(this.webpackJsonppayclient=this.webpackJsonppayclient||[]).push([[0],{312:function(e,a,t){e.exports=t(382)},377:function(e,a,t){},382:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(16),o=t.n(r),c=t(69),i=t(426),s=t(26),m=t.n(s),u=t(17),d=t(84),p=t(44),E=t(289),f=t(121),b=t(290),h={user:null},g=Object(f.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_USER":return{user:a.user};case"REMOVE_USER":return{user:null};default:return e}}),Object(b.composeWithDevTools)()),v=function(e){var a=e.token;localStorage.setItem("token",a)},O=function(){localStorage.getItem("token")&&(localStorage.removeItem("token"),window.location.href="/login")},y=function(){return void 0===localStorage.getItem("token")?null:localStorage.getItem("token")},C=t(11),x=t(155),j=t(291),w=t.n(j),S="http://".concat("192.168.1.60",":80"),k={api:"".concat("","/api")},N=Object(x.a)({palette:{primary:{light:"#334753",main:"#001a28",dark:"#00121c",contrastText:"#fff"},secondary:{light:"#ffac33",main:"#ff9800",dark:"#ff5722",contrastText:"#fff"},success:{main:"#bac778"},info:{main:"#75c7b9"},warning:{main:"#c7925d"},error:{main:"#e36570"}},status:{danger:"orange"}}),P={filterType:"checkbox",download:!1,print:!1,selectableRowsOnClick:!1,responsive:"stacked",selectableRowsHeader:!1,selectableRows:"none",textLabels:{body:{noMatch:"No se encontr\xf3 coincidencias",toolTip:"Ordenar",columnHeaderTooltip:function(e){return"Ordenar Por: ".concat(e.label)}},pagination:{next:"Siguiente",previous:"Anterior",rowsPerPage:"# Filas",displayRows:"de"},toolbar:{search:"Buscar",downloadCsv:"Descargar CSV",print:"Imprimir",viewColumns:"Ver Columnas",filterTable:"Filtrar Tabla"},filter:{all:"Todo",title:"FILTROS",reset:"RESETEAR"},viewColumns:{title:"Mostrar Columnas",titleAria:"Mostrar/Ocultar Columnas"},selectedRows:{text:"fila(s) seleccionadas",delete:"Eliminar",deleteAria:"Eliminar filas seleccionadas"}}},D={selectableRowsHeader:!1,filter:!1,search:!1,sort:!1,download:!1,print:!1,viewColumns:!1,selectableRows:"none",customFooter:function(){return l.a.createElement(l.a.Fragment,null)},setTableProps:function(){return{padding:"default",size:"small"}}},A=["COMIDA","COMBUSTIBLE","PAGO DE SERVICIO","SERVICIO B\xc1SICO","OTROS PAGOS","OTRO"],R=function(e){return"".concat(S,"/api/image/").concat(e)},_=function(e){return w.a.format(e,{code:"USD"})},F=[{name:"DIARIO",value:"Diario"},{name:"SEMANAL",value:"Semanal"},{name:"QUINCENAL",value:"Quincenal"},{name:"MENSUAL",value:"Mensual"}],I=t(8),T=t(24),W=t(19),M=t(265),z=t(293),L=t(266),B=t(416),U=t(417),q=t(267),Y=t(409),V=t(268),H=t(454),G=t(453),Z=t(62),K=t(418),$=t(195),Q=function(e){return{type:"ADD_USER",user:e}},J=t(33),X=t(34),ee=t(35),ae=t(36),te=t(403),ne=t(384),le=t(385),re=t(407),oe=t(264),ce=t(412),ie=function(e,a){for(var t=Object.keys(a),n=0;n<t.length;n++)e=e.replace(":".concat(t[n]),a[t[n]]);return e},se=Object(c.b)((function(e){return{user:e.user}}),null)((function(e){var a=e.user,t=e.children;return l.a.createElement(l.a.Fragment,null,(a.admin||a.root)&&y()?t:l.a.createElement(l.a.Fragment,null))})),me=t(408),ue=t(410),de=t(411),pe=t(413),Ee=t(414),fe=t(415),be=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).state={openSubmenu:{employ:!1,payroll:!1,client:!1}},n}return Object(X.a)(t,[{key:"componentDidMount",value:function(){this.props.history.location.pathname.toString().includes("/empleado")&&!this.state.openSubmenu.employ&&this.openSubmenuNow("employ"),this.props.history.location.pathname.toString().includes("/payroll")&&!this.state.openSubmenu.payroll&&this.openSubmenuNow("payroll")}},{key:"openSubmenuNow",value:function(e){this.setState({openSubmenu:Object(T.a)({},e,!this.state.openSubmenu[e])})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.toolbar},l.a.createElement("div",{className:"toolbar-custom"},l.a.createElement("img",{src:"/img/payicon.png",alt:"PayCenter",height:40}),l.a.createElement("h5",null,"AdminDashboard"))),l.a.createElement(te.a,null),l.a.createElement(ne.a,null,l.a.createElement(le.a,{button:!0,activeClassName:"active",component:u.c,to:"/payment"},l.a.createElement(re.a,null,l.a.createElement(me.a,null)),l.a.createElement(oe.a,{primary:"Cobros"})),l.a.createElement(le.a,{button:!0,activeClassName:"active",component:u.c,to:"/credit"},l.a.createElement(re.a,null,l.a.createElement(Y.a,null,"monetization_on")),l.a.createElement(oe.a,{primary:"Cr\xe9ditos"})),l.a.createElement(le.a,{button:!0,activeClassName:"active",component:u.c,to:"/ruta"},l.a.createElement(re.a,null,l.a.createElement(Y.a,null,"map")),l.a.createElement(oe.a,{primary:"Rutas/Zonas"})),l.a.createElement(le.a,{button:!0,activeClassName:"active",component:u.c,to:"/client"},l.a.createElement(re.a,null,l.a.createElement(Y.a,null,"people_alt")),l.a.createElement(oe.a,{primary:"Clientes"})),l.a.createElement(se,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{button:!0,onClick:function(){return e.openSubmenuNow("employ")}},l.a.createElement(re.a,null,l.a.createElement(Y.a,null,"group")),l.a.createElement(oe.a,{primary:"Empleados"}),this.state.openSubmenu.employ?l.a.createElement(ue.a,null):l.a.createElement(de.a,null)),l.a.createElement(ce.a,{in:this.state.openSubmenu.employ,timeout:"auto",unmountOnExit:!0},l.a.createElement(ne.a,{component:"div",disablePadding:!0},l.a.createElement(le.a,{button:!0,className:this.props.classes.nested,activeClassName:"active",exact:!0,component:u.c,to:"/empleado"},l.a.createElement(re.a,null,l.a.createElement(Y.a,null,"list")),l.a.createElement(oe.a,{primary:"Listar"})),l.a.createElement(le.a,{button:!0,className:this.props.classes.nested,activeClassName:"active",exact:!0,component:u.c,to:"/empleado/add"},l.a.createElement(re.a,null,l.a.createElement(pe.a,null)),l.a.createElement(oe.a,{primary:"Agregar"}))))),l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{button:!0,onClick:function(){return e.openSubmenuNow("payroll")}},l.a.createElement(re.a,null,l.a.createElement(Ee.a,null)),l.a.createElement(oe.a,{primary:"Sueldo/Salario"}),this.state.openSubmenu.payroll?l.a.createElement(ue.a,null):l.a.createElement(de.a,null)),l.a.createElement(ce.a,{in:this.state.openSubmenu.payroll,timeout:"auto",unmountOnExit:!0},l.a.createElement(ne.a,{component:"div",disablePadding:!0},l.a.createElement(le.a,{button:!0,className:this.props.classes.nested,activeClassName:"active",exact:!0,component:u.c,to:"/payroll"},l.a.createElement(re.a,null,l.a.createElement(Y.a,null,"list")),l.a.createElement(oe.a,{primary:"Listar"})),l.a.createElement(le.a,{button:!0,className:this.props.classes.nested,activeClassName:"active",exact:!0,component:u.c,to:"/payroll/add"},l.a.createElement(re.a,null,l.a.createElement(fe.a,null)),l.a.createElement(oe.a,{primary:"Pagar"})))))),l.a.createElement(le.a,{button:!0,activeClassName:"active",component:u.c,to:"/expense"},l.a.createElement(re.a,null,l.a.createElement(Y.a,null,"local_atm")),l.a.createElement(oe.a,{primary:"Gastos"}))))}}]),t}(l.a.Component),he=Object(d.g)(be),ge=Object(c.b)((function(e){return{user:e.user}}),(function(e){return{removeUser:function(){e({type:"REMOVE_USER"})}}}))((function(e){var a=Object(W.a)(),t=e.container,n=Object(M.a)((function(e){return{root:{display:"flex"},nested:{paddingLeft:e.spacing(3)},btnContent:{flexGrow:1},drawer:Object(T.a)({},e.breakpoints.up("md"),{width:250,flexShrink:0}),appBar:Object(T.a)({height:55},e.breakpoints.up("md"),{width:"calc(100% - ".concat(250,"px)"),marginLeft:250}),menuButton:Object(T.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),toolbar:{height:55},drawerPaper:{width:250},content:{flexGrow:1,padding:e.spacing(3),position:"relative",top:55}}}))(),r=l.a.useState(!1),o=Object(I.a)(r,2),c=o[0],i=o[1],s=l.a.useState(null),m=Object(I.a)(s,2),d=m[0],p=m[1],E=function(){i(!c)},f=l.a.createElement(z.a,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){p(null)}},l.a.createElement(L.a,{component:u.b,to:"/user"},"Mis datos"),l.a.createElement(L.a,{onClick:function(){e.removeUser(),O()}},"Cerrar Sesi\xf3n"));return l.a.createElement(l.a.Fragment,null,e.user?l.a.createElement("div",{className:n.root},l.a.createElement(B.a,null),l.a.createElement(U.a,{position:"fixed",className:n.appBar},l.a.createElement(q.a,null,l.a.createElement($.a,{color:"inherit","aria-label":"Abrir men\xfa",edge:"start",onClick:E,className:n.menuButton},l.a.createElement(Y.a,null,"menu")),l.a.createElement("div",{className:"right-menu"},l.a.createElement(V.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit"},l.a.createElement(H.a,{className:"avatar-toolbar"},e.user.person.name.substring(0,1)),"\xa0",e.user.person.name)))),f,l.a.createElement("nav",{className:n.drawer,"aria-label":"mailbox folders"},l.a.createElement(G.a,{mdUp:!0,implementation:"css"},l.a.createElement(Z.a,{container:t,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:c,onClose:E,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0}},l.a.createElement(he,{classes:n}))),l.a.createElement(G.a,{smDown:!0,implementation:"css"},l.a.createElement(Z.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0},l.a.createElement(he,{classes:n})))),l.a.createElement("main",{className:n.content},e.children)):l.a.createElement("div",{className:"loader-page"},l.a.createElement(K.a,{color:"secondary"})))})),ve=function(e){var a=Object(n.useState)([]),t=Object(I.a)(a,2),l=t[0],r=t[1],o=Object(n.useState)(!1),c=Object(I.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)(null),d=Object(I.a)(u,2),p=d[0],E=d[1],f=function(e){s(!0),m.a.get(k.api+e).then((function(e){e.ok&&r(e.data),s(!1)})).catch((function(a){a.response&&a.response.data?E(a.response.data):E(a),s(!1),console.log("URL PATH ",k.api+e)}))};return Object(n.useEffect)((function(){f(e)}),[e]),{loader:i,error:p,data:l,setData:r,get:f}},Oe=t(420),ye=t(113),Ce=t(269),xe=t(270),je=t(271),we=t(272),Se=t(273),ke=t(39),Ne=t.n(ke),Pe=function(e){if(e.response&&e.response.data){var a="",t=e.response.data;if(t.errors){for(var n=0;n<t.errors.length;n++)a+=t.errors[n][0]+",";a=(a+="**").replace(",**","")}else a=t.message?t.message:t.error?t.error:"Error desconocido, contacte a soporte";return a}return e.message?e.message:"Upps! el servidor no ha respondido como se esperaba, contacte a soporte!"},De=function(e){return e?Ne()(e).format("DD/MMMM/Y"):"--/--/----"},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(n.useState)(!1),l=Object(I.a)(t,2),r=l[0],o=l[1],c=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(l,r){o(!0);var c={method:e,baseURL:k.api,url:t,data:n};a&&(c.headers={"content-type":"multipart/form-data"}),m()(c).then((function(e){o(!1),l(e)})).catch((function(e){o(!1),r(Pe(e))}))}))};return{loader:r,request:c}},Re=t(419),_e=function(e){var a=e.children,t=e.loader,n=e.text,r=e.elevation;return l.a.createElement(l.a.Fragment,null,!0===t?l.a.createElement(ye.a,{elevation:r,className:"loader-container"}," ",l.a.createElement(Re.a,{color:"secondary"})," ",l.a.createElement("p",null,n)," "):a)};_e.defaultProps={text:"Cargando...",loader:!1,elevation:2};var Fe=_e,Ie=function(e){e.history;var a=ve("/route"),t=Ae("delete");return l.a.createElement(ge,null,l.a.createElement(Fe,{loader:a.loader},l.a.createElement(Oe.a,{component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("div",{className:"paper-header-ancle"},l.a.createElement("h4",null,l.a.createElement(Y.a,null,"list")," Lista de rutas"),l.a.createElement(se,null,l.a.createElement(V.a,{to:"/ruta/add",component:u.b,variant:"text",color:"secondary"},l.a.createElement(Y.a,null,"add")," Nueva ruta"))),l.a.createElement(te.a,null)),l.a.createElement(Ce.a,{size:"small"},l.a.createElement(xe.a,null,l.a.createElement(je.a,null,l.a.createElement(we.a,null,"Nombre"),l.a.createElement(we.a,null,"Descripci\xf3n"),l.a.createElement(se,null,l.a.createElement(we.a,null,"Opciones")))),l.a.createElement(Se.a,null,a.data.map((function(e){return l.a.createElement(je.a,{key:e.id},l.a.createElement(we.a,null,e.name),l.a.createElement(we.a,null,null===e.description?"Ninguna":e.description),l.a.createElement(se,null,l.a.createElement(we.a,null,l.a.createElement($.a,{component:u.b,to:ie("/ruta/:id/edit",{id:e.id}),size:"small","aria-label":"Editar"},l.a.createElement(Y.a,null,"edit")),l.a.createElement($.a,{onClick:function(n){return l=e.id,void(window.confirm("\xbfEstas seguro que deseas eliminar esta zona?")&&t.request("/route/".concat(l)).then((function(e){if(e.ok){var t=a.data.filter((function(e){return e.id!==l}));a.setData(t),C.b.success("Ruta eliminada con \xe9xito")}else C.b.error("No se ha podido eliminar la ruta")})).catch((function(e){C.b.error(e)})));var l},size:"small","aria-label":"delete"},l.a.createElement(Y.a,null,"delete")))))})))))))},Te=t(7),We=t(421),Me=t(72),ze=t(274),Le=function(e){var a=e.message,t=e.type;e.children;return e.show?l.a.createElement("div",{className:"alert outline "+t.toLowerCase()},l.a.createElement(Y.a,null,"info"),l.a.createElement("div",null,a)):l.a.createElement(l.a.Fragment,null)};Le.defaultProps={type:"err",show:!1};var Be=Le,Ue=Object(c.b)(null,(function(e){return{setUser:function(a){e(Q(a))}}}))((function(e){var a=e.history,t=e.setUser,r=Object(n.useState)({username:"",password:""}),o=Object(I.a)(r,2),c=o[0],i=o[1],s=Ae(),m=Ae("get"),u=Object(n.useState)(null),d=Object(I.a)(u,2),p=d[0],E=d[1],f=function(e){var a=e.target,t=a.value,n=a.name;i(Object(Te.a)({},c,Object(T.a)({},n,t)))};return Object(n.useEffect)((function(){y()&&a.push("/credit")}),[a]),l.a.createElement(l.a.Fragment,null,l.a.createElement(We.a,{component:"main",maxWidth:"sm"},l.a.createElement(B.a,null),l.a.createElement(ye.a,{className:"form-login-content"},l.a.createElement(Me.a,{component:"h1",variant:"h5"},"Iniciar sesi\xf3n"),l.a.createElement(H.a,{src:"/img/payicon.png",sizes:"100"}),l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),E(null),s.request("/login",c).then((function(e){e.access_token?(v({token:e.access_token}),m.request("/user").then((function(e){s.loader=m.loader,e.ok?(t(e.data),a.push("/credit")):(C.b.error("Algo ha salido mal, comun\xedquese con soporte"),localStorage.removeItem("token"))})).finally((function(){return s.loader=m.loader}))):E("No se ha podido iniciar, consulte con soporte")})).catch((function(e){E(e||"Error desconocido, comuniquese con soporte!")}))}(e)},className:"form-login"},l.a.createElement(ze.a,{variant:"outlined",margin:"normal",value:c.username,onChange:function(e){return f(e)},required:!0,fullWidth:!0,type:"text",label:"Nombre de usuario",id:"username",name:"username",autoComplete:"username",autoFocus:!0}),l.a.createElement(ze.a,{variant:"outlined",margin:"normal",value:c.password,onChange:function(e){return f(e)},required:!0,fullWidth:!0,label:"Contrase\xf1a",name:"password",type:"password",id:"password",autoComplete:"current-password"}),l.a.createElement(Be,{message:p,show:null!==p}),s.loader&&l.a.createElement(K.a,{color:"secondary"}),l.a.createElement(V.a,{disabled:s.loader,type:"submit",variant:"contained",color:"primary"},"Iniciar")))))})),qe=t(422),Ye=t(423),Ve=Object(d.g)((function(){return l.a.createElement(We.a,{maxWidth:"sm",component:ye.a,className:"paper-content form-login-content"},l.a.createElement("div",{className:"forbidden-content "},l.a.createElement("h3",null,"No se ha podido comunicar con el servidor"),l.a.createElement(qe.a,{className:"forbidden-icon"}),l.a.createElement("p",null,"Revisa tu conexi\xf3n a internet, puede que el cable o el adaptador de WiFi este desconectado."),l.a.createElement("div",null,l.a.createElement(V.a,{color:"primary",startIcon:l.a.createElement(Ye.a,null),variant:"contained",onClick:function(){return window.location.href="/credit"}},"Reintentar"))))})),He=t(424),Ge=t(197),Ze=t(199),Ke=t(196),$e=t(167),Qe=t(425),Je=t(275),Xe=t(283),ea=t(393),aa=t(295),ta=t.n(aa),na=t(296),la=t.n(na),ra=function(e){var a=e.method,t=e.url,r=e.initialData,o=e.initialRoutes,c=e.history,i=Object(n.useState)(r),s=Object(I.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)({showPassword:!1,err:null,checked:{}}),p=Object(I.a)(d,2),E=p[0],f=p[1],b=Object(n.useState)(o),h=Object(I.a)(b,2),g=h[0],v=h[1],O=ve("/route"),y=Ae(a),x=function(e){var a=e.target,t=a.value,n=a.name;u(Object(Te.a)({},m,Object(T.a)({},n,t)))},j=function(e){if(g.indexOf(e)>=0)return!0;if(void 0===E.checked)return!1;var a=E.checked[e];return void 0!==a&&a};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),f(Object(Te.a)({},E,{err:null})),y.request(t,m).then((function(e){e.ok&&"post"===a&&(C.b.success("Empleado Guardado con \xe9xito"),f(Object(Te.a)({},E,{checked:{}})),c.push("/empleado")),e.ok&&"put"===a&&C.b.success(e.message)})).catch((function(e){f(Object(Te.a)({},E,{err:e}))}))}(e)}},l.a.createElement(He.a,{container:!0,spacing:3},l.a.createElement("div",{className:"grid-title"},l.a.createElement("p",null,"Datos B\xe1sicos")),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"text",label:"Nombre",name:"name",onChange:function(e){return x(e)},value:m.name.toUpperCase(),required:!0,fullWidth:!0,autoFocus:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"text",label:"Apellido",name:"surname",onChange:function(e){return x(e)},value:m.surname.toUpperCase(),required:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"address",label:"Direcci\xf3n",name:"address",onChange:function(e){return x(e)},value:m.address,required:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"phone",label:"Tel\xe9fono/Celular",name:"phones",onChange:function(e){return x(e)},value:m.phones,fullWidth:!0})),l.a.createElement("div",{className:"grid-title"},l.a.createElement("p",null,"Datos de sueldo")),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"Sueldo Base",name:"sueldo",onChange:function(e){return x(e)},value:m.sueldo,required:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(Ge.a,{id:"pago_sueldo"},"Periodo de Pago"),l.a.createElement(Ze.a,{labelId:"pago_sueldo",name:"pago_sueldo",value:m.pago_sueldo,onChange:function(e){return x(e)},fullWidth:!0},l.a.createElement(L.a,{value:"SEMANAL"},"SEMANAL"))),l.a.createElement("div",{className:"grid-title"},l.a.createElement("p",null,"Credenciales")),l.a.createElement(He.a,{item:!0,xs:12,md:4},l.a.createElement(ze.a,{onChange:function(e){return x(e)},value:m.username,required:!0,fullWidth:!0,type:"text",label:"Nombre de usuario",id:"username",name:"username",autoComplete:"username"})),l.a.createElement(He.a,{item:!0,xs:12,md:4},l.a.createElement(Ke.a,{fullWidth:!0},l.a.createElement(Ge.a,{htmlFor:"standard-adornment-password"},"Password"),l.a.createElement($e.a,{id:"standard-adornment-password",type:E.showPassword?"text":"password",value:null!==m.password?m.password:"",name:"password",onChange:function(e){return x(e)},fullWidth:!0,endAdornment:l.a.createElement(Qe.a,{position:"end"},l.a.createElement($.a,{onClick:function(){f(Object(Te.a)({},E,{showPassword:!E.showPassword}))}},E.showPassword?l.a.createElement(ta.a,null):l.a.createElement(la.a,null)))}))),l.a.createElement(He.a,{item:!0,xs:12,md:4},l.a.createElement(Ke.a,{component:"fieldset"},l.a.createElement(Je.a,{control:l.a.createElement(Xe.a,{checked:m.advance,spacing:0,onChange:function(e){return u(Object(Te.a)({},m,{admin:!m.admin}))},value:"Admin"}),title:"Titulo",label:"Administrador"}),l.a.createElement(ea.a,{style:{marginTop:0}},"El administrador tiene todos los permisos"))),l.a.createElement("div",{className:"grid-title"},l.a.createElement("p",null,"Asignaci\xf3n de zonas")),l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(Fe,{loader:O.loader,text:"Cargando Zonas"},O.data.map((function(e){return l.a.createElement(Je.a,{key:e.id,control:l.a.createElement(Xe.a,{name:"routes[]",checked:j(e.id),onChange:(a=e.id,function(e){f(Object(Te.a)({},E,{checked:Object(Te.a)({},E.checked,Object(T.a)({},a,e.target.checked))}));var t=g;if(e.target.checked)t.push(+e.target.value);else{var n=t.indexOf(+e.target.value);t.splice(n,1)}v(t),u(Object(Te.a)({},m,{zones:g}))}),value:e.id}),label:e.name});var a})))),l.a.createElement(He.a,{item:!0,xs:12,className:"center"},l.a.createElement(Be,{show:null!==E.err,message:E.err}),y.loader&&l.a.createElement(K.a,{color:"secondary"}),l.a.createElement("br",null),l.a.createElement(V.a,{type:"submit",color:"primary",disabled:y.loader,variant:"contained"},"post"===a?"Guardar":"Actualizar")))))};ra.defaultProps={method:"post",url:"/employ",redirect:"/employ",initialData:{name:"",surname:"",address:"",phones:"",sueldo:"",pago_sueldo:"",username:"",admin:!1,password:"",zones:[]},initialRoutes:[]};var oa=Object(d.g)(ra),ca=function(e){var a=e.match.params.id,t=ve("/employ/".concat(a));return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,null,l.a.createElement(Fe,{loader:t.loader,text:"Cargando datos del empleado..."},l.a.createElement(We.a,{maxWidth:"md",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"person_edit")," Editar Empleado"),l.a.createElement(te.a,null)),void 0!==t.data.name&&l.a.createElement(oa,{method:"put",url:"/employ/".concat(a),initialData:t.data,initialRoutes:t.data.zones})))))},ia=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,null,l.a.createElement(We.a,{maxWidth:"md",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"person_add")," Agregar Empleado"),l.a.createElement(te.a,null)),l.a.createElement(oa,{method:"post"}))))},sa=t(43),ma=t.n(sa),ua=t(285),da=t(434),pa=t(435),Ea=t(433),fa=Object(d.g)((function(e){var a=e.history;return l.a.createElement(We.a,{maxWidth:"sm",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"forbidden-content"},l.a.createElement("h3",null,"Acceso Denegado"),l.a.createElement(Y.a,{className:"forbidden-icon"},"security"),l.a.createElement("p",null,"No tienes permisos para ver este contenido, si crees que es un error, contacta con el administrador."),l.a.createElement("div",null,l.a.createElement(V.a,{color:"primary",startIcon:l.a.createElement(Ea.a,null),variant:"contained",onClick:function(){return a.goBack(-1)}},"Go Back"))))})),ba=Object(c.b)((function(e){return{user:e.user}}),null)((function(e){var a=e.user,t=e.children;return l.a.createElement(l.a.Fragment,null,(a.admin||a.root)&&y()?t:l.a.createElement(fa,null))})),ha=function(){var e=ve("/employ"),a=Ae("put"),t=Ae("delete"),n=[{name:"id",label:"ID",options:{display:"false",filter:!1}},{name:"name",label:"NOMBRE",options:{filter:!1,customBodyRender:function(e){return e.toUpperCase()}}},{name:"surname",label:"APELLIDO",options:{filter:!1,customBodyRender:function(e){return e.toUpperCase()}}},{name:"username",label:"USUARIO",options:{filter:!1}},{name:"phones",label:"TEL\xc9FONO",options:{filter:!1}},{name:"sueldo",label:"SUELDO",options:{filter:!1}},{name:"status",label:"ESTADO",options:{filter:!0,customFilterListOptions:{render:function(e){return"Estado: ".concat(e)}},customBodyRender:function(e,a,t){return l.a.createElement("div",null,1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{label:"Activo",className:"bg-green"}),l.a.createElement($.a,{size:"small",onClick:function(){return r(a.rowData[0],t)},"aria-label":"Dar de baja"},l.a.createElement(da.a,null))),0===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{label:"Inactivo",className:"bg-red"}),l.a.createElement($.a,{size:"small",onClick:function(){return r(a.rowData[0],t)},"aria-label":"Dar de alta"},l.a.createElement(pa.a,null))))}}},{label:"OPCIONES",name:"id",options:{filter:!1,sort:!1,customBodyRender:function(e,a,t){return l.a.createElement("div",null,l.a.createElement($.a,{component:u.b,to:ie("/empleado/:id/edit",{id:e}),size:"small","aria-label":"Editar"},l.a.createElement(Y.a,null,"edit")),l.a.createElement($.a,{onClick:function(){return o(e,t)},size:"small","aria-label":"delete"},l.a.createElement(Y.a,null,"delete")),l.a.createElement($.a,{component:u.b,to:ie("/payroll/add/:id",{id:e}),size:"small","aria-label":"Pagar"},l.a.createElement(Y.a,null,"payment")))}}}],r=function(t,n){a.request("/employ/cancel/".concat(t)).then((function(a){if(a.ok){var l=e.data.findIndex((function(e){return e.id===t})),r=e.data[l].status;e.data[l].status=1===r?0:1,n(e.data[l].status),C.b.success(a.message)}})).catch((function(e){C.b.error(e)}))},o=function(a){window.confirm("\xbfEsta seguro que desea eliminar este empleado?")&&t.request("/employ/".concat(a)).then((function(t){if(t.ok){var n=e.data.findIndex((function(e){return e.id===a}));e.data.splice(n,1),C.b.success(t.message);var l=e.data;e.setData(),e.setData(l)}})).catch((function(e){return C.b.error(e)}))};return l.a.createElement(ge,null,l.a.createElement(Fe,{loader:e.loader},l.a.createElement(ba,null,l.a.createElement(ma.a,{title:"EMPLEADOS",data:e.data,columns:n,options:P}))))},ga=function(e){var a=e.match.params.id,t=ve("/expense/".concat(a));return l.a.createElement(ge,null,l.a.createElement(Fe,{loader:t.loader},l.a.createElement(We.a,{maxWidth:"sm",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"local_atm")," Ver Gasto"),l.a.createElement(te.a,null)),l.a.createElement(He.a,{container:!0,spacing:3},l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{type:"text",label:"Monto $",readOnly:!0,value:t.data.monto,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{type:"text",label:"Categor\xeda",readOnly:!0,value:t.data.category,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{type:"date",label:"Fecha",readOnly:!0,value:t.data.date,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{type:"text",label:"Empleado",readOnly:!0,value:t.data.name?t.data.name.toUpperCase():"",fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{label:"Detalle | Observaci\xf3n",multiline:!0,rows:"3",fullWidth:!0,value:null===t.data.description?"Ninguna":t.data.description})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},t.data.image&&l.a.createElement("div",{style:{padding:10}},l.a.createElement("img",{src:R(t.data.image),alt:"Preview",width:"100%"})),l.a.createElement(Be,{message:"No tiene comprobante",type:"warn",show:!t.data.image}))))))},va=t(450),Oa=t(456),ya=Object(d.g)((function(e){var a=e.history,t=Object(n.useState)({monto:"",category:"",description:"",image:null,date:null,selectedDate:null,showImage:null,employ_id:null}),r=Object(I.a)(t,2),o=r[0],c=r[1],i=Object(n.useState)(null),s=Object(I.a)(i,2),m=s[0],u=s[1],d=Ae("post",!0),p=ve("/employ"),E=function(e){var a=e.target,t=a.value,n=a.name;c(Object(Te.a)({},o,Object(T.a)({},n,t)))};return l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=new FormData;t.append("monto",o.monto),t.append("category",o.category),t.append("description",o.description),o.image&&t.append("image",o.image),o.date&&t.append("date",o.date),o.employ_id&&t.append("employ_id",o.employ_id),u(null),d.request("/expense",t).then((function(e){e.ok&&(C.b.success("Gasto procesado con \xe9xito"),a.push("/expense"))})).catch((function(e){u(e)}))}(e)}},l.a.createElement(He.a,{container:!0,spacing:3},l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{type:"text",label:"Monto $",name:"monto",placeholder:"$0.00",onChange:function(e){return E(e)},value:o.monto,required:!0,fullWidth:!0,autoFocus:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(Oa.a,{id:"category",name:"categories",freeSolo:!0,value:null===o.category?"":o.category.toUpperCase(),options:A,onChange:function(e,a){var t;c(null!==(t=a)?Object(Te.a)({},o,{category:t}):Object(Te.a)({},o,{category:null}))},renderInput:function(e){return l.a.createElement(ze.a,Object.assign({},e,{label:"Categor\xeda",onChange:function(e){return E(e)},name:"category",fullWidth:!0,required:!0}))}})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(va.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/YYYY",fullWidth:!0,autoOk:!0,id:"date",label:"Fecha del gasto",value:o.selectedDate,onChange:function(e){return function(e){c(Object(Te.a)({},o,{selectedDate:e,date:Ne()(e).format("YYYY-MM-DD")}))}(e)},KeyboardButtonProps:{"aria-label":"Cambiar Fecha"}})),l.a.createElement(se,null,l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(Oa.a,{id:"employ_id",options:p.data,onChange:function(e,a){return function(e,a){c(null!==a?Object(Te.a)({},o,{employ_id:a.id}):Object(Te.a)({},o,{employ_id:null}))}(0,a)},getOptionLabel:function(e){return(e.name+" "+e.surname).toUpperCase()},renderInput:function(e){return l.a.createElement(ze.a,Object.assign({},e,{label:"Empleado",variant:"standard",fullWidth:!0}))}}))),l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(ze.a,{id:"description",label:"Detalle | Observaci\xf3n",multiline:!0,rows:"3",fullWidth:!0,name:"description",onChange:function(e){return E(e)},value:o.description})),l.a.createElement(He.a,{item:!0,xs:12,sm:12,style:{justifyContent:"center",display:"flex",flexDirection:"column"}},o.showImage&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{padding:10}},l.a.createElement("img",{src:o.showImage,alt:"Preview",width:"100%"})),l.a.createElement(V.a,{variant:"outlined",onClick:function(){return c(Object(Te.a)({},o,{showImage:null,image:null}))},color:"secondary"},"Quitar Comprobante")),!o.showImage&&l.a.createElement(V.a,{variant:"outlined",component:"label",color:"primary"},l.a.createElement(Y.a,null,"photo"),"\xa0 Agregar Comprobante",l.a.createElement("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){return function(e){e.target.files.length>0&&c(Object(Te.a)({},o,{image:e.target.files[0],showImage:URL.createObjectURL(e.target.files[0])}))}(e)}}))),l.a.createElement(He.a,{item:!0,xs:12,className:"center"},l.a.createElement(Be,{show:null!==m,message:m}),d.loader&&l.a.createElement(K.a,{color:"secondary"}),l.a.createElement("br",null),l.a.createElement(V.a,{type:"submit",color:"primary",disabled:d.loader,variant:"contained"},"Guardar Gasto"))))})),Ca=function(){return l.a.createElement(ge,null,l.a.createElement(We.a,{maxWidth:"sm",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"local_atm")," Registrar Gasto"),l.a.createElement(te.a,null)),l.a.createElement(ya,null)))},xa=t(276),ja=t(437),wa=t(112),Sa=t.n(wa),ka=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).state={employs:[],loader:!1,open:!1,value:""},n}return Object(X.a)(t,[{key:"getEmploys",value:function(){var e=this;this.setState(Object(Te.a)({},this.state,{open:!0,loader:!0})),this.state.employs.length<=0?m.a.get("/employ").then((function(a){a.ok&&e.setState(Object(Te.a)({},e.state,{employs:a.data}))})).finally((function(){return e.setState({loader:!1})})):this.setState({loader:!1})}},{key:"reset",value:function(){this.setState(Object(Te.a)({},this.state,{value:""}))}},{key:"selected",value:function(e,a){a?this.setState(Object(Te.a)({},this.state,{value:a})):this.setState(Object(Te.a)({},this.state,{value:""}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Sa.a,{id:"employ_id",open:this.state.open,onOpen:function(){return e.getEmploys()},onClose:function(){return e.setState(Object(Te.a)({},e.state,{open:!1}))},options:this.state.employs,loading:this.state.loader,onChange:function(a,t){return e.props.onChange(t)},loadingText:"Cargando empleados",inputValue:this.state.value,onInputChange:function(a,t){return e.selected(a,t)},getOptionLabel:function(a){return a?(a.name+" "+a.surname).toUpperCase():e.state.value},renderInput:function(a){return l.a.createElement(ze.a,Object.assign({},a,{required:!0,label:"Empleado",variant:"standard",fullWidth:!0,InputProps:Object(Te.a)({},a.InputProps,{endAdornment:l.a.createElement(l.a.Fragment,null,e.state.loader?l.a.createElement(Re.a,{color:"inherit",size:20}):null,a.InputProps.endAdornment)})}))}}))}}]),t}(n.Component);ka.defaultProps={};var Na=ka,Pa=function(e){var a=e.onFilter,t=e.filters,r=e.onClearFilters,o=Object(n.useState)(t),c=Object(I.a)(o,2),i=c[0],s=c[1],m=Object(n.useRef)(),u=function(e,a){s(Object(Te.a)({},i,Object(T.a)({},e,a)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(We.a,{component:ye.a,elevation:0,style:{marginBottom:"1rem"}},l.a.createElement(He.a,{container:!0,spacing:3,alignItems:"center"},l.a.createElement(He.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(va.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/YYYY",fullWidth:!0,autoOk:!0,id:"date",label:"Fecha Inicial",value:i.dateFrom,onChange:function(e){return u("dateFrom",e)},KeyboardButtonProps:{"aria-label":"Ingresar fecha inicial"}})),l.a.createElement(He.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(va.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/YYYY",fullWidth:!0,autoOk:!0,id:"date_end",label:"Fecha Final",value:i.dateTo,onChange:function(e){return u("dateTo",e)},KeyboardButtonProps:{"aria-label":"Ingresar fecha final"}})),l.a.createElement(He.a,{item:!0,xs:12,sm:12,md:3},l.a.createElement(Na,{ref:m,onChange:function(e){var a;s((a=e)?Object(Te.a)({},i,{employ_id:a.id}):Object(Te.a)({},i,{employ_id:null}))}})),l.a.createElement(He.a,{item:!0,xs:12,sm:12,md:3,className:"d-flex"},l.a.createElement(V.a,{variant:"text",color:"primary",fullWidth:!0,onClick:function(){a({dateFrom:i.dateFrom,dateTo:i.dateTo,employ_id:i.employ_id})}},l.a.createElement(Y.a,null,"filter_list")," \xa0 Filtrar"),l.a.createElement($.a,{onClick:function(){return s(Object(Te.a)({},i,{dateFrom:null,dateTo:null,employ_id:null})),r(),void m.current.reset()}},l.a.createElement(Y.a,null,"clear_two_tone"))))))};Pa.defaultProps={onFilter:null,filters:{dateFrom:Ne()().clone().weekday(0),dateTo:Ne()().clone().weekday(5),employ_id:null}};var Da=Pa,Aa=t(436),Ra=function(e){var a=e.info,t=e.text,n=e.icon,r=e.color;return l.a.createElement("div",{className:"box-info  ".concat(r?r.toLowerCase():"")},n?l.a.createElement(Y.a,null,n):l.a.createElement(Y.a,null,"today"),l.a.createElement("h3",null,a),l.a.createElement("p",null,t))},_a=function(){var e=ve("/expense/info");return l.a.createElement("div",{style:{marginBottom:"1.5rem",padding:"0 10px"}},l.a.createElement(He.a,{container:!0,spacing:3},e.loader&&l.a.createElement(l.a.Fragment,null,l.a.createElement(He.a,{item:!0,xs:12,sm:4},l.a.createElement(Aa.a,{variant:"rect",height:79})),l.a.createElement(He.a,{item:!0,xs:12,sm:4},l.a.createElement(Aa.a,{variant:"rect",height:79})),l.a.createElement(He.a,{item:!0,xs:12,sm:4},l.a.createElement(Aa.a,{variant:"rect",height:79}))),!e.loader&&e.data&&l.a.createElement(l.a.Fragment,null,l.a.createElement(He.a,{item:!0,xs:12,sm:4},l.a.createElement(Ra,{text:"GASTOS HOY",info:_(e.data.today)})),l.a.createElement(He.a,{item:!0,xs:12,sm:4},l.a.createElement(Ra,{text:"GASTOS ESTA SEMANA",color:"cyan",info:_(e.data.week),icon:"attach_money"})),l.a.createElement(He.a,{item:!0,xs:12,sm:4},l.a.createElement(Ra,{text:"GASTOS ESTE MES",color:"purple",info:_(e.data.month),icon:"event"})))))},Fa=function(){return l.a.createElement("div",null,l.a.createElement(V.a,{component:u.b,to:"/expense/add"},l.a.createElement(ja.a,null)," \xa0Agregar"))},Ia=function(){var e=Object(n.useState)([]),a=Object(I.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(0),c=Object(I.a)(o,2),i=c[0],s=c[1],d=Object(n.useState)(!1),p=Object(I.a)(d,2),E=p[0],f=p[1],b=Ae("delete"),h=[{name:"id",label:"ID",options:{display:"false",filter:!1}},{name:"name",label:"EMPLEADO",options:{filter:!1,customBodyRender:function(e,a){return e.toUpperCase()}}},{name:"monto",label:"MONTO",options:{filter:!1,align:"right",setCellHeaderProps:function(){return{align:"right"}},setCellProps:function(){return{align:"right"}},customBodyRender:function(e,a){return l.a.createElement("b",null,_(e))}}},{name:"date",label:"FECHA",options:{filter:!1,customBodyRender:function(e){return De(e)}}},{name:"category",label:"CATEGOR\xcdA",options:{filter:!0}},{name:"description",label:"DETALLE",options:{filter:!1,customBodyRender:function(e,a,t){return l.a.createElement("small",null,e||"Ninguna")}}},{name:"status",label:"ESTADO",options:{filter:!0,customFilterListOptions:{render:function(e){return"Estado: ".concat(e)}},customBodyRender:function(e,a,t){return l.a.createElement("div",null,1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{label:"Activo",className:"bg-green"})),0===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{label:"Anulado",className:"bg-red"})))}}},{label:"OPCIONES",name:"id",options:{filter:!1,sort:!1,customBodyRender:function(e,a,t){return l.a.createElement("div",null,l.a.createElement(xa.a,{title:"Ver detalles"},l.a.createElement($.a,{component:u.b,to:ie("/expense/view/:id",{id:e}),size:"small","aria-label":"Detalle"},l.a.createElement(Y.a,null,"chrome_reader_mode"))),l.a.createElement(xa.a,{title:"Anular Gasto"},l.a.createElement($.a,{onClick:function(){return x(e)},size:"small","aria-label":"Anular"},l.a.createElement(Y.a,null,"block"))))}}}],g=Object(n.useState)({page:0,rowPerPage:10,dateFrom:null,dateTo:null}),v=Object(I.a)(g,2),O=v[0],y=v[1],x=function(e){var a=window.prompt("\xbfEst\xe1 seguro que desea anular este gasto?");a&&b.request("/expense/".concat(e),{description:a}).then((function(a){if(a.ok&&(C.b.success(a.message),t)){var n=t.findIndex((function(a){return a.id===e}));t[n].status=0,r([]),r(t)}})).catch((function(e){C.b.error(e)}))};Object(n.useEffect)((function(){!function(){var e="/expense?page=".concat(O.page+1,"&limit=").concat(O.rowPerPage);O.dateFrom&&O.dateTo&&(e+="&from=".concat(O.dateFrom.format("YYYY-MM-DD"),"&to=").concat(O.dateTo.format("YYYY-MM-DD"))),O.employ_id&&(e+="&employ_id=".concat(O.employ_id)),f(!0),m.a.get(e).then((function(e){e.ok&&(r(e.data),s(e.total))})).catch((function(e){return C.b.error(Pe(e))})).finally((function(){return f(!1)}))}()}),[O]);var j=Object(Te.a)({},P,{rowsPerPage:O.rowPerPage,page:O.page,count:i,serverSide:!0,elevation:0,sort:!1,filter:!1,onTableChange:function(e,a){switch(e){case"changeRowsPerPage":y(Object(Te.a)({},O,{rowPerPage:a.rowsPerPage}));break;case"changePage":y(Object(Te.a)({},O,{page:a.page}));break;default:console.log(e)}}});return l.a.createElement(ge,null,l.a.createElement(se,null,l.a.createElement(_a,null)),l.a.createElement(Da,{onClearFilters:function(){return y(Object(Te.a)({},O,{dateFrom:null,dateTo:null,employ_id:null}))},filters:O,onFilter:function(e){return a=e,void y(Object(Te.a)({},O,{dateFrom:a.dateFrom,dateTo:a.dateTo,employ_id:a.employ_id}));var a}}),l.a.createElement(Fe,{loader:E},l.a.createElement(ma.a,{title:l.a.createElement(Fa,null),data:t,columns:h,options:j})))},Ta=function(e){var a=e.method,t=e.url,r=e.history,o=e.redirect,c=e.initialZone,i=Object(n.useState)(c),s=Object(I.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(null),p=Object(I.a)(d,2),E=p[0],f=p[1],b=Ae(a),h=function(e){var a=e.target,t=a.value,n=a.name;u(Object(Te.a)({},m,Object(T.a)({},n,t)))};return l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),f(null),b.request(t,m).then((function(e){e.ok&&(C.b.success("Zona ".concat("post"===a?"guardada":"actualizada"," con \xe9xito")),"post"===a&&(u({name:"",description:""}),r.push(o)))})).catch((function(e){f(e)}))}(e)}},l.a.createElement(He.a,{container:!0,spacing:3},l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{type:"text",label:"Nombre de ruta",name:"name",onChange:function(e){return h(e)},value:m.name,required:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:12},l.a.createElement(ze.a,{type:"text",label:"Descripci\xf3n",name:"description",onChange:function(e){return h(e)},value:null===m.description?"":m.description,fullWidth:!0})),l.a.createElement("br",null),l.a.createElement(He.a,{item:!0,xs:12,className:"center"},l.a.createElement(Be,{show:null!==E,message:E}),b.loader&&l.a.createElement(K.a,{color:"secondary"}),l.a.createElement("br",null),l.a.createElement(V.a,{type:"submit",color:"primary",disabled:b.loader,variant:"contained"},"post"===a?"Guardar":"Actualizar"))))};Ta.defaultProps={method:"post",url:"/route",redirect:"/ruta",initialZone:{name:"",description:""}};var Wa=Object(d.g)(Ta),Ma=function(e){var a=e.match,t=(e.history,a.params.id),n=ve("/route/".concat(t));return l.a.createElement(ge,null,l.a.createElement(Fe,{loader:n.loader,text:"Cargando zona..."},l.a.createElement(ba,null,l.a.createElement(We.a,{maxWidth:"sm",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"map")," Actualizar Ruta/Zona"),l.a.createElement(te.a,null)),l.a.createElement(Wa,{method:"put",url:"/route/".concat(t),initialZone:n.data})))))},za=function(){return l.a.createElement(ge,null,l.a.createElement(ba,null,l.a.createElement(We.a,{maxWidth:"sm",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"map")," Agregar Rutas/Zonas"),l.a.createElement(te.a,null)),l.a.createElement(Wa,{method:"post",initialZone:{name:"",description:""}}))))},La=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).state={loader:!1,data:null},n}return Object(X.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e,a,t){this.props.employ!==e.employ&&this.loadData()}},{key:"loadData",value:function(){var e=this;if(this.setLoader(!0),null!==this.props.employ){var a="/employ/info/".concat(this.props.employ);null!==this.props.now&&(a="/employ/info/".concat(this.props.employ,"?now=").concat(this.props.now)),m.a.get(a).then((function(a){a.ok&&e.setState({data:a.data})})).catch((function(e){var a=Pe(e);C.b.error(a)})).finally((function(){return e.setLoader(!1)}))}else this.setState({data:null})}},{key:"setLoader",value:function(e){this.setState({loader:e})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fe,{loader:this.state.loader,text:"Cargando datos de empleado..."},null!==this.state.data&&l.a.createElement(He.a,{container:!0,spacing:2},this.state.data.pays.length>0&&l.a.createElement(He.a,{item:!0,xs:12,md:this.props.md},l.a.createElement(ma.a,{title:"Pagos de sueldo (".concat(this.state.data.pays.length,")"),data:this.state.data.pays,columns:[{label:"CONCEPTO",name:"concept"},{label:"FECHA",name:"date"},{label:"TOTAL",name:"total"}],options:D})),this.state.data.credits.length>0&&l.a.createElement(He.a,{item:!0,xs:12,md:this.props.md},l.a.createElement(ma.a,{title:"Cr\xe9ditos (".concat(this.state.data.credits.length,")"),data:this.state.data.credits,columns:[{label:"PLAZO",name:"plazo"},{label:"COBRO",name:"cobro"},{label:"UTILIDAD",name:"utilidad"},{label:"TOTAL",name:"total"}],options:D})),this.state.data.expenses.length>0&&l.a.createElement(He.a,{item:!0,xs:12,md:this.props.md},l.a.createElement(ma.a,{title:"Gatos (".concat(this.state.data.expenses.length,")"),data:this.state.data.expenses,columns:[{label:"CONCEPTO",name:"category"},{label:"FECHA",name:"date"},{label:"TOTAL",name:"monto"}],options:D})),this.state.data.cobros>0&&l.a.createElement(He.a,{item:!0,xs:12,md:this.props.md},l.a.createElement(ye.a,{style:{padding:10},elevation:3},l.a.createElement("h3",null,"COBRO TOTAL: "),this.state.data.cobros)))))}}]),t}(l.a.Component);La.defaultProps={md:6,now:null};var Ba=La,Ua=function(e){var a=e.employs,t=e.employ,r=Object(n.useState)({employ_id:t?t.id:null,amount:t?t.sueldo:0,selectedDate:Ne()(),extra:0,bonus:0,discount:0,date:Ne()().format("YYYY-MM-DD"),description:"",advance:!1,concept:"PAGO DE SUELDO"}),o=Object(I.a)(r,2),c=o[0],i=o[1],s=Object(n.useState)(null),m=Object(I.a)(s,2),u=m[0],d=m[1],p=Ae(),E=function(e){var a=e.target,t=a.value,n=a.name;i(Object(Te.a)({},c,Object(T.a)({},n,t)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),d(null),p.request("/payroll",c).then((function(e){e.ok&&C.b.success("Pago de Sueldo exitoso")})).catch((function(e){return d(e)}))}(e)}},l.a.createElement(He.a,{container:!0,spacing:3},l.a.createElement(He.a,{item:!0,xs:12,sm:6},a&&l.a.createElement(Oa.a,{id:"employ_id",options:a.data,onChange:function(e,a){return function(e,a){i(Object(Te.a)({},c,{employ_id:null})),i(null!==a?Object(Te.a)({},c,{employ_id:a.id,amount:a.sueldo}):Object(Te.a)({},c,{employ_id:null}))}(0,a)},getOptionLabel:function(e){return(e.name+" "+e.surname).toUpperCase()},renderInput:function(e){return l.a.createElement(ze.a,Object.assign({},e,{required:!0,label:"Empleado",variant:"standard",fullWidth:!0}))}}),null===a&&t.name&&l.a.createElement(Ke.a,{fullWidth:!0},l.a.createElement(Ge.a,{id:"employ_id_2"},"Empleado"),l.a.createElement(Ze.a,{labelId:"employ_id_2",name:"employ_id",value:c.employ_id,fullWidth:!0},l.a.createElement(L.a,{value:t.id},t.name+" "+t.surname)))),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(va.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/YYYY",fullWidth:!0,autoOk:!0,id:"date",label:"Fecha de pago",value:c.selectedDate,onChange:function(e){return function(e){i(Object(Te.a)({},c,{selectedDate:e,date:Ne()(e).format("YYYY-MM-DD")}))}(e)},KeyboardButtonProps:{"aria-label":"Cambiar Fecha"}})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"Monto $",name:"amount",onChange:function(e){return E(e)},value:c.amount,required:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"+ Comisi\xf3n $",name:"bonus",onChange:function(e){return E(e)},value:c.bonus,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"+ Valor Adicional $",name:"extra",onChange:function(e){return E(e)},value:c.extra,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"- Descuento $",name:"discount",onChange:function(e){return E(e)},value:c.discount,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{id:"description",label:"Detalle | Observaci\xf3n",multiline:!0,rows:"4",fullWidth:!0,name:"description",onChange:function(e){return E(e)},value:c.description})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(Je.a,{control:l.a.createElement(Xe.a,{checked:c.advance,onChange:function(e){return i(Object(Te.a)({},c,{advance:!c.advance,concept:c.advance?"PAGO DE SUELDO":"ADELANTO DE SUELDO"}))},value:"advance"}),label:"ADELANTO"}),l.a.createElement(ze.a,{id:"concept",label:"Concepto",multiline:!0,disabled:!0,rows:"2",fullWidth:!0,name:"concept",value:c.concept})),l.a.createElement(He.a,{item:!0,xs:12,className:"center"},l.a.createElement(Be,{show:null!==u,message:u}),p.loader&&l.a.createElement(K.a,{color:"secondary"}),l.a.createElement("br",null),l.a.createElement(V.a,{type:"submit",color:"primary",disabled:p.loader,variant:"contained"},"Pagar Sueldo")))),null!==c.employ_id&&l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement(te.a,null)," ",l.a.createElement("br",null),l.a.createElement(Ba,{employ:c.employ_id})))};Ua.defaultProps={employs:null,employ:null};var qa=Ua,Ya=function(){var e=ve("/employ");return l.a.createElement(ge,null,l.a.createElement(se,null,l.a.createElement(We.a,{maxWidth:"lg",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"payment")," Pagar sueldo"),l.a.createElement(te.a,null)),l.a.createElement(He.a,{container:!0},l.a.createElement(He.a,{item:!0,xs:12,md:12},l.a.createElement(qa,{employs:e}))))))},Va=function(e){var a=e.match.params.id,t=ve("/employ/".concat(a));return l.a.createElement(ge,null,l.a.createElement(se,null,l.a.createElement(Fe,{loader:t.loader},l.a.createElement(We.a,{maxWidth:"lg",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"payment")," Pagar sueldo"),l.a.createElement(te.a,null)),l.a.createElement(He.a,{container:!0},l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(qa,{employ:t.data}))))))))},Ha=function(e){var a=e.match.params.id,t=ve("/payroll/".concat(a));return l.a.createElement(ge,null,l.a.createElement(se,null,l.a.createElement(Fe,{loader:t.loader,text:"Cargando rol..."},l.a.createElement(We.a,{maxWidth:"lg",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"payment")," ",1===t.data.status?"Sueldo Pagado":l.a.createElement("div",{style:{color:"red"}},"Pago Anulado")),l.a.createElement(te.a,null)),l.a.createElement(He.a,{container:!0,spacing:3},l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{label:"Empleado",fullWidth:!0,value:(t.data.name+" "+t.data.surname).toUpperCase(),readOnly:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{label:"Fecha",fullWidth:!0,value:t.data.date,readOnly:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"Monto $",name:"amount",value:t.data.amount,readOnly:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"+ Comisi\xf3n $",name:"bonus",readOnly:!0,value:t.data.bonus,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"+ Valor Adicional $",name:"extra",readOnly:!0,value:t.data.extra,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"number",label:"- Descuento $",name:"discount",readOnly:!0,value:t.data.discount,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{id:"description",label:"Detalle | Observaci\xf3n",multiline:!0,rows:"4",fullWidth:!0,name:"description",readOnly:!0,value:t.data.description})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(Je.a,{control:l.a.createElement(Xe.a,{checked:t.data.advance,disabled:!0,value:"advance"}),label:"ADELANTO"}),l.a.createElement(ze.a,{id:"concept",label:"Concepto",multiline:!0,disabled:!0,rows:"2",fullWidth:!0,name:"concept",value:t.data.concept})),t.data&&t.data.employ_id&&l.a.createElement(He.a,{item:!0,xs:12,md:12,style:{marginTop:10}},l.a.createElement(te.a,null),l.a.createElement("br",null),l.a.createElement(Ba,{employ:t.data.employ_id,now:t.data.date})))))))},Ga=function(){var e=ve("/payroll"),a=[{label:"NOMBRE",name:"name",options:{filter:!1,customBodyRender:function(e){return e.toUpperCase()}}},{label:"APELLIDO",name:"surname",options:{filter:!1,customBodyRender:function(e){return e.toUpperCase()}}},{label:"CONCEPTO",name:"concept"},{label:"FECHA",name:"date",options:{filter:!1}},{label:"OBSERV.",name:"description",options:{filter:!1,customBodyRender:function(e,a,t){return l.a.createElement("div",null,e||"Ninguna")}}},{label:"TOTAL",name:"total",options:{filter:!1}},{label:"ESTADO",name:"status",options:{filter:!1,customBodyRender:function(e,a,t){return l.a.createElement("div",null,1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{label:"Correcto",className:"bg-green"})),-1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{label:"Anulado",className:"bg-red"})))}}},{label:"OPCIONES",name:"id",options:{filter:!1,sort:!1,customBodyRender:function(e,a,t){return l.a.createElement("div",null,l.a.createElement($.a,{onClick:function(){return n(e)},size:"small","aria-label":"Anular"},l.a.createElement(Y.a,null,"block")),l.a.createElement($.a,{component:u.b,to:ie("/payroll/:id",{id:e}),size:"small","aria-label":"Ver"},l.a.createElement(Y.a,null,"visibility")))}}}],t=Ae("delete"),n=function(a){var n=window.prompt("Ingrese el motivo de la anulaci\xf3n para confirmar");n&&t.request("/payroll/".concat(a),{description:n}).then((function(t){if(t.ok){var n=e.data.findIndex((function(e){return e.id===a}));e.data[n].status=-1,C.b.success(t.message);var l=e.data;e.setData(),e.setData(l)}})).catch((function(e){C.b.error(e)}))};return l.a.createElement(ge,null,l.a.createElement(Fe,{loader:e.loader,text:"Cargando roles..."},l.a.createElement(ba,null,l.a.createElement(ma.a,{columns:a,data:e.data,options:P,title:"Roles de pagos"}))))},Za=function(e){var a=e.method,t=e.url,r=e.initialData,o=e.history,c=e.children,i=Ae(a),s=Object(n.useState)(null),m=Object(I.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(r),E=Object(I.a)(p,2),f=E[0],b=E[1],h=function(e){var a=e.target,t=a.value,n=a.name;b(Object(Te.a)({},f,Object(T.a)({},n,t)))};return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),d(null),i.request(t,f).then((function(e){e.ok&&"post"===a&&(C.b.success("Cliente Guardado con \xe9xito"),o.push("/client")),e.ok&&"put"===a&&C.b.success(e.message)})).catch((function(e){d(e)}))}(e)}},l.a.createElement(He.a,{container:!0,spacing:3},l.a.createElement("div",{className:"grid-title"},l.a.createElement("p",null,"Datos B\xe1sicos")),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"text",label:"Nombre",name:"name",onChange:function(e){return h(e)},value:f.name.toUpperCase(),required:!0,fullWidth:!0,autoFocus:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"text",label:"Apellido",name:"surname",onChange:function(e){return h(e)},value:f.surname.toUpperCase(),fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"address",label:"Direcci\xf3n",name:"address",onChange:function(e){return h(e)},value:f.address,required:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"email",label:"Correo: ",name:"email",onChange:function(e){return h(e)},value:null===f.email?"":f.email,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"phone",label:"Tel\xe9fono Personal",name:"phones",inputProps:{maxLength:13},onChange:function(e){return h(e)},value:f.phones,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{type:"phone",label:"Tel\xe9fono Trabajo",name:"phones_b",inputProps:{maxLength:13},onChange:function(e){return h(e)},value:f.phones_b,fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12,className:"center"},l.a.createElement(Be,{show:null!==u,message:u}),i.loader&&l.a.createElement(K.a,{color:"secondary"}),l.a.createElement("br",null),l.a.createElement(V.a,{type:"submit",color:"primary",disabled:i.loader,variant:"contained"},"post"===a?"Guardar":"Actualizar"),c))))};Za.defaultProps={method:"post",url:"client",initialData:{name:"",surname:"",address:"",phones:"",phones_b:"",email:""}};var Ka=Object(d.g)(Za),$a=function(e){var a=e.match.params.id,t=ve("/client/".concat(a));return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,null,l.a.createElement(Fe,{loader:t.loader,text:"Cargando datos del empleado..."},l.a.createElement(We.a,{maxWidth:"md",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"person_edit")," Editar Cliente"),l.a.createElement(te.a,null)),void 0!==t.data.name&&l.a.createElement(Ka,{method:"put",url:"/client/".concat(a),initialData:t.data})))))},Qa=t(164),Ja=t(438),Xa=t(439),et=t(5),at=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).handleTextChange=function(e){n.setState({searchText:e.target.value})},n.onKeyDown=function(e){27===e.keyCode&&n.props.onHide(),13===e.keyCode&&n.onHandleSearch()},n.onHandleSearch=function(){n.state.searchText&&n.props.onSearch(n.state.searchText)},n.state={searchText:e.searchText},n}return Object(X.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.options,r=a.onHide,o=a.loader,c=a.placeholder;return l.a.createElement(Qa.a,{appear:!0,in:!0,timeout:300},l.a.createElement("div",{className:t.main,ref:function(a){return e.rootRef=a}},l.a.createElement(ze.a,{placeholder:c,className:t.searchText,InputProps:{"aria-label":n.textLabels.toolbar.search},autoFocus:!0,disabled:o,value:this.state.searchText||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(a){return e.searchField=a}}),l.a.createElement($.a,{onClick:this.onHandleSearch,color:"primary"},l.a.createElement(Ja.a,null)),!o&&l.a.createElement($.a,{className:t.clearIcon,onClick:r},l.a.createElement(Xa.a,null)),o&&l.a.createElement($.a,{className:t.clearIcon},l.a.createElement(Re.a,{size:24,style:{marginLeft:15,position:"relative",top:4}}))))}}]),t}(l.a.Component);at.defaultProps={placeholder:"Buscar"};var tt=Object(et.a)((function(e){return{main:{display:"flex",flex:"1 0 auto",paddingTop:5},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"CustomSearchRender"})(at),nt=t(171),lt=t.n(nt),rt=t(427),ot=t(431),ct=t(429),it=t(430),st=t(428),mt=function(e){var a=e.onClose,t=e.onConfirm,n=e.open,r=e.title,o=e.desc,c=e.loader;return l.a.createElement(rt.a,{open:n,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ot.a,{id:"alert-dialog-title"},r),l.a.createElement(ct.a,null,l.a.createElement(it.a,{id:"alert-dialog-description"},o)),l.a.createElement(st.a,null,l.a.createElement(V.a,{onClick:a,color:"primary"},"Cancelar"),l.a.createElement(V.a,{color:"secondary",onClick:t,disabled:c},c?"Espere...":"Aceptar")))};mt.defaultProps={title:"Confirmar",desc:"\xbfEsta seguro que desea realizar esta acci\xf3n?",loader:!1};var ut=mt,dt=function(){var e=ve("/client"),a=Ae("get"),t=Ae("delete"),r=Ae("put"),o=Object(n.useState)(null),c=Object(I.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)(!1),d=Object(I.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(""),b=Object(I.a)(f,2),h=b[0],g=b[1],v=[{name:"id",label:"ID",options:{display:"false",filter:!1}},{name:"name",label:"NOMBRE",options:{filter:!1,customBodyRender:function(e){return e.toUpperCase()}}},{name:"surname",label:"APELLIDO",options:{filter:!1,customBodyRender:function(e){return e.toUpperCase()}}},{name:"phones",label:"TEL\xc9FONO",options:{filter:!1}},{name:"rank",label:"RANK",options:{filter:!1}},{name:"mora",label:"MORATORIA",options:{customBodyRender:function(e){return l.a.createElement(l.a.Fragment,null,1===e&&l.a.createElement(ua.a,{label:"SI",size:"small",className:"bg-red"}),0===e&&l.a.createElement(ua.a,{label:"NO",size:"small"}))}}},{name:"status",label:"ESTADO",options:{filter:!0,customFilterListOptions:{render:function(e){return"Estado: ".concat(e)}},customBodyRender:function(e,a,t){return l.a.createElement("div",null,1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{size:"small",label:"Activo",className:"bg-green"}),l.a.createElement(se,null,l.a.createElement(xa.a,{title:"Dar de BAJA"},l.a.createElement($.a,{size:"small",onClick:function(){return O(a.rowData[0],t)},"aria-label":"Dar de baja"},l.a.createElement(da.a,null))))),0===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{size:"small",label:"Inactivo",className:"bg-red"}),l.a.createElement(xa.a,{title:"Dar de ALTA"},l.a.createElement($.a,{size:"small",onClick:function(){return O(a.rowData[0],t)},"aria-label":"Dar de alta"},l.a.createElement(pa.a,null)))))}}},{label:"OPCIONES",name:"id",options:{filter:!1,sort:!1,customBodyRender:function(e,a,t){return l.a.createElement(se,null,l.a.createElement(xa.a,{title:"Poner este cliente en Mora"},l.a.createElement($.a,{onClick:function(){return w(e)},size:"small","aria-label":"Poner en cliente en Mora"},l.a.createElement(lt.a,null))),l.a.createElement(xa.a,{title:"Historial de Cr\xe9ditos"},l.a.createElement($.a,{component:u.b,to:ie("/credit/client/:id",{id:e}),size:"small","aria-label":"Historial de cr\xe9ditos"},l.a.createElement(Y.a,null,"list_alt"))),l.a.createElement(xa.a,{title:"Editar Cliente"},l.a.createElement($.a,{component:u.b,to:ie("/cliente/:id/edit",{id:e}),size:"small","aria-label":"Editar"},l.a.createElement(Y.a,null,"edit"))),l.a.createElement(xa.a,{title:"Eliminar Cliente"},l.a.createElement($.a,{onClick:function(){return y(e,t)},size:"small","aria-label":"delete"},l.a.createElement(Y.a,null,"delete"))))}}}],O=function(a,t){r.request("/client/cancel/".concat(a)).then((function(n){if(n.ok){var l=e.data.findIndex((function(e){return e.id===a})),r=e.data[l].status;e.data[l].status=1===r?0:1,t(e.data[l].status),C.b.success(n.message)}})).catch((function(e){C.b.error(e)}))},y=function(a){window.confirm("\xbfEsta seguro que desea eliminar este cliente?")&&t.request("/client/".concat(a)).then((function(t){if(t.ok){var n=e.data.findIndex((function(e){return e.id===a}));e.data.splice(n,1),C.b.success(t.message);var l=e.data;e.setData(),e.setData(l)}})).catch((function(e){return C.b.error(e)}))},x=Object(Te.a)({},P,{searchText:h,serverSide:!0,onTableChange:function(t,n){switch(t){case"search":!function(t){var n="/client";null!==t&&(n="/client/search?q=".concat(t)),g(t),a.request(n).then((function(a){a.ok&&e.setData(a.data)}))}(n.searchText);break;default:return}},customSearchRender:function(e,t,n,r){return l.a.createElement(tt,{searchText:e,onSearch:t,onHide:n,options:r,loader:a.loader})}}),j=function(){return l.a.createElement("div",{className:"header-btn"},l.a.createElement("h3",null,"CLIENTES"),l.a.createElement($.a,{component:u.b,to:"/cliente/add"},l.a.createElement(pe.a,null)))},w=function(e){s(e),E(!0)};return l.a.createElement(ge,null,l.a.createElement(Fe,{loader:e.loader},l.a.createElement(ma.a,{title:l.a.createElement(j,null),data:e.data,columns:v,options:x})),l.a.createElement(ut,{onConfirm:function(){i?r.request("/client/mora/".concat(i)).then((function(e){e.ok&&(E(!1),C.b.success(e.message))})).catch((function(e){return C.b.error(e)})):C.b.error("Vuelva a seleccionar un cliente primero")},open:p,onClose:function(){return E(!1)},desc:"\xbfEstas seguro que deseas marcar este cliente en mora ??",title:"Marcar cliente CLI-".concat(i," en Mora")}))},pt=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,null,l.a.createElement(We.a,{maxWidth:"md",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"person_add")," Agregar Cliente"),l.a.createElement(te.a,null)),l.a.createElement(Ka,{method:"post"}))))},Et=t(388),ft=t(76),bt=function(){return l.a.createElement(ye.a,{elevation:0,className:"loader-container"}," ",l.a.createElement(Re.a,{color:"secondary"})," ",l.a.createElement("p",null,"Cargando mapa...")," ")},ht=function(e){return Object(ft.GoogleApiWrapper)({apiKey:"AIzaSyAdoB5hIORuaqfcPStZX8r61NCu2vV7xwE",LoadingContainer:bt})((function(a){var t=Object.assign({},a);return l.a.createElement(e,t)}))},gt=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(){return Object(J.a)(this,t),a.apply(this,arguments)}return Object(X.a)(t,[{key:"render",value:function(){return l.a.createElement(ft.Map,{className:"google-map",google:this.props.google,initialCenter:{lat:this.props.lat,lng:this.props.lon},zoom:15},l.a.createElement(ft.Marker,{id:1,title:this.props.description,name:this.props.title}))}}]),t}(n.Component);gt.defaultProps={height:450,description:"",title:"Ubicaci\xf3n"};var vt=ht(gt),Ot=function(e){var a=e.isOpen,t=e.title,n=e.lon,r=e.lat,o=e.onClose,c=e.description,i=Object(W.a)(),s=Object(Et.a)(i.breakpoints.down("sm"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(rt.a,{fullScreen:s,open:a,maxWidth:"md",onClose:function(){return o()},"aria-labelledby":"responsive-dialog-title"},l.a.createElement(ct.a,{className:"map-dialog"},l.a.createElement("div",{className:"dialog-map-header"},l.a.createElement("h2",null,t),l.a.createElement("small",{className:"text-muted"},c)),l.a.createElement(vt,{lon:n,lat:r,title:t,description:c})),l.a.createElement(st.a,null,l.a.createElement(V.a,{autoFocus:!0,onClick:function(){return o()},color:"primary"},"OK"))))};Ot.defaultProps={isOpen:!1,title:"Ver Ubicaci\xf3n",description:""};var yt=Ot,Ct=function(e){var a=e.open,t=e.onClose,r=e.onConfirm,o=e.title,c=e.desc,i=e.inputLabel,s=e.loader,m=Object(W.a)(),u=Object(Et.a)(m.breakpoints.down("md")),d=Object(n.useState)(""),p=Object(I.a)(d,2),E=p[0],f=p[1];return l.a.createElement(rt.a,{open:a,onEnter:function(){return f("")},onClose:t,"aria-labelledby":"form-dialog-title",fullScreen:u},l.a.createElement(ot.a,{id:"form-dialog-title"},o),l.a.createElement(ct.a,null,l.a.createElement(it.a,null,c),l.a.createElement(ze.a,{autoFocus:!0,margin:"dense",id:"name",multiline:!0,rows:2,value:E,onChange:function(e){return f(e.target.value)},label:i,type:"text",fullWidth:!0})),l.a.createElement(st.a,null,l.a.createElement(V.a,{color:"primary",onClick:t},"Cancelar"),l.a.createElement(V.a,{color:"secondary",onClick:function(){return r(E)},disabled:s},s?"Espere...":"Anular")))};Ct.defaultProps={title:"Confirmar",desc:"Ingrese el motivo de la anulaci\xf3n",inputLabel:"Motivo de la anulaci\xf3n",loader:!1};var xt=Ct,jt=Object(n.forwardRef)((function(e,a){var t=e.credit,r=Ae("put"),o=Object(n.useState)(!1),c=Object(I.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)(!1),u=Object(I.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(!1),f=Object(I.a)(E,2),b=f[0],h=f[1];return Object(n.useImperativeHandle)(a,(function(){return{openConfirm:function(){h(!0)},openInput:function(){p(!0)},openMap:function(){s(!0)}}})),l.a.createElement(l.a.Fragment,null,t&&t.geo_lon&&t.geo_lat&&l.a.createElement(yt,{title:"".concat(t.client.toUpperCase()),description:"".concat(t.address,"  ").concat(t.ref_detail?" - "+t.ref_detail:""),isOpen:i,onClose:function(){return s(!1)},lon:parseFloat(t.geo_lon),lat:parseFloat(t.geo_lat)}),t&&l.a.createElement(xt,{title:"Anular cr\xe9dito COD-".concat(t),desc:"\xbfEst\xe1s seguro de que deseas anular el cr\xe9dito COD-".concat(t,"?"),onClose:function(){return p(!1)},open:d,onConfirm:function(e){var a;(a=e)?r.request("/credit/cancel/".concat(t),{description:a}).then((function(e){e.ok&&(p(!1),C.b.success("Cr\xe9dito anulado con \xe9xito"))})).catch((function(e){C.b.error(e)})):C.b.warn("Es necesario especificar el motivo de la anulaci\xf3n")}}),t&&l.a.createElement(ut,{title:"Finalizar cr\xe9dito COD-".concat(t),desc:"Al finalizar un cr\xe9dito el sistema entiende que se cumpli\xf3 con todos los pagos y todo es correcto \xbfDesea finalizar?",onConfirm:function(){t?r.request("/credit/end/".concat(t)).then((function(e){e.ok&&(C.b.success("El cr\xe9dito fu\xe9 finalizado con \xe9xito"),h(!1))})).catch((function(e){return C.b.error(e)})):C.b.error("Vuelve a seleccionar el cr\xe9dito que deseas finalizar")},open:b,onClose:function(){return h(!1)}}))})),wt=function(e){var a=e.personId,t=e.userId,r=e.searchable,o=Ae("get"),c=Object(n.useRef)(),i=Object(n.useState)([]),s=Object(I.a)(i,2),d=s[0],p=s[1],E=Object(n.useState)(!1),f=Object(I.a)(E,2),b=f[0],h=f[1],g=Object(n.useState)({geo_lat:null,geo_lon:null}),v=Object(I.a)(g,2),O=v[0],y=v[1],x=Object(n.useState)(""),j=Object(I.a)(x,2),w=j[0],S=j[1],k=Object(n.useState)(0),N=Object(I.a)(k,2),D=N[0],A=N[1],R=Object(n.useState)({page:0,rowPerPage:15}),F=Object(I.a)(R,2),T=F[0],W=F[1];Object(n.useEffect)((function(){!function(){var e="/credit?page=".concat(T.page+1,"&limit=").concat(T.rowPerPage);null!==a&&(e+="&person_id=".concat(a)),h(!0),m.a.get(e).then((function(e){e.ok&&(p(e.data),A(e.total))})).catch((function(e){return C.b.error(Pe(e))})).finally((function(){return h(!1)}))}()}),[T,a]);var M=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(y(e),a?c.current.openConfirm(!0):c.current.openInput(!0)):C.b.warn("Vuelve a seleccionar cr\xe9dito")},z=[{name:"client",label:"CLIENTE",options:{filter:!1,customBodyRender:function(e,a){return e?e.toUpperCase():"Indefinido"}}},{name:"monto",label:"MONTO",options:{filter:!1,setCellHeaderProps:function(){return{align:"right"}},setCellProps:function(){return{align:"right"}},customBodyRender:function(e){return l.a.createElement("b",null,_(e))}}},{name:"utilidad",label:"%",options:{filter:!1,display:!1}},{name:"total_utilidad",label:"TOTAL %",options:{filter:!1,display:!1,setCellHeaderProps:function(){return{align:"right"}},setCellProps:function(){return{align:"right"}},customBodyRender:function(e){return l.a.createElement("b",null,_(e))}}},{name:"total",label:"TOTAL",options:{filter:!1,setCellHeaderProps:function(){return{align:"right"}},setCellProps:function(){return{align:"right"}},customBodyRender:function(e){return l.a.createElement("b",null,_(e))}}},{name:"plazo",label:"PLAZO",options:{filter:!1}},{name:"cobro",label:"COBRO",options:{filter:!1,display:"false"}},{name:"ruta",label:"RUTA",options:{filter:!1}},{name:"description",label:"DETALLE",options:{filter:!1,display:"false",customBodyRender:function(e){return l.a.createElement("small",null,e)}}},{name:"f_inicio",label:"F. INICIO",options:{filter:!1,customBodyRender:function(e){return De(e)}}},{name:"f_fin",label:"F. FIN",options:{filter:!1,customBodyRender:function(e){return De(e)}}},{name:"status",label:"ESTADO",options:{filter:!0,customFilterListOptions:{render:function(e){return"Estado: ".concat(e)}},customBodyRender:function(e,a,t){return l.a.createElement("div",null,1===e&&l.a.createElement(ua.a,{label:"Activo",size:"small",className:"bg-green"}),0===e&&l.a.createElement(ua.a,{label:"Anulado",size:"small",className:"bg-red"}),2===e&&l.a.createElement(ua.a,{label:"Exitoso",size:"small",className:"bg-info"}))}}},{label:"OPCIONES",name:"id",options:{filter:!1,sort:!1,customBodyRender:function(e,a,t){var n=a.rowData[11];return l.a.createElement(l.a.Fragment,null,l.a.createElement(xa.a,{title:"Ver detalles"},l.a.createElement($.a,{component:u.b,to:ie("/credit/view/:id",{id:e}),size:"small","aria-label":"Detalle"},l.a.createElement(Y.a,null,"chrome_reader_mode"))),l.a.createElement(xa.a,{title:"Ver Direcci\xf3n"},l.a.createElement($.a,{onClick:function(){return function(e){var a=d.find((function(a){return a.id===e}));a&&(y(a),c.current.openMap())}(e)},size:"small","aria-label":"Detalle"},l.a.createElement(Y.a,null,"not_listed_location"))),1===n&&l.a.createElement(l.a.Fragment,null,l.a.createElement(xa.a,{title:"Anular Cr\xe9dito"},l.a.createElement($.a,{onClick:function(){return M(e)},size:"small","aria-label":"Anular"},l.a.createElement(Y.a,null,"block"))),l.a.createElement(xa.a,{title:"Marcar como finalizado"},l.a.createElement($.a,{color:"secondary",onClick:function(){return M(e,!0)},size:"small","aria-label":"Finalizar"},l.a.createElement(Y.a,null,"done-all")))))}}}],L=Object(Te.a)({},P,{search:r,serverSide:!0,searchText:w,rowsPerPage:T.rowPerPage,page:T.page,count:D,onTableChange:function(e,a){switch(e){case"search":!function(e){var a="/credit?page=".concat(T.page+1,"&limit=").concat(T.rowPerPage);null!==e&&(a="/credit?q=".concat(e,"&limit=30")),S(e),o.request(a).then((function(e){e.ok&&p(e.data)}))}(a.searchText);break;case"changePage":W(Object(Te.a)({},T,{page:a.page}));break;default:return}},customSearchRender:function(e,a,t,n){return l.a.createElement(tt,{searchText:e,onSearch:a,onHide:t,options:n,loader:!1})}});return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fe,{loader:b},l.a.createElement(ma.a,{title:t||a?"HISTORIAL DE CR\xc9DITOS":"CR\xc9DITOS",data:d,columns:z,options:L})),l.a.createElement(jt,{ref:c,credit:O}))};wt.defaultProps={personId:null,userId:null,searchable:!0};var St=wt,kt=function(){return l.a.createElement(ge,null,l.a.createElement(St,null))},Nt=function(e){var a=e.info,t=e.text,n=e.icon,r=e.color,o=e.md,c=void 0===o?2:o;return l.a.createElement(He.a,{item:!0,xs:6,sm:4,md:c},l.a.createElement("div",{className:"box-info  ".concat(r?r.toLowerCase():""),style:{margin:"0 .1rem .2rem .1rem",borderRadius:0}},n?l.a.createElement(Y.a,null,n):l.a.createElement(Y.a,null,"today"),l.a.createElement("h3",null,a),l.a.createElement("p",null,t)))},Pt=t(452),Dt=function(e){var a=e.status,t=e.description;return 0===a?l.a.createElement(Pt.a,{severity:"error"},"Este cr\xe9dito fu\xe9 anulado. Motivo: ",t):1===a?l.a.createElement(Pt.a,{severity:"info"},"Cr\xe9dito actualmente activo"):2===a?l.a.createElement(Pt.a,{severity:"success"},"Cr\xe9dito finalizado"):a?void 0:l.a.createElement(l.a.Fragment,null)},At=function(e){var a=e.plazo,t=e.cobro,n=e.description;return l.a.createElement(ye.a,{style:{padding:"1rem",borderRadius:0}},l.a.createElement("div",{className:"title-muted"},"Datos de pagos y cobros"),l.a.createElement(He.a,{container:!0,style:{marginTop:"1rem"},spacing:1},l.a.createElement(He.a,{item:!0,xs:6},l.a.createElement(ze.a,{readOnly:!0,label:"Plazo",value:a||"Desconocido"})),l.a.createElement(He.a,{item:!0,xs:6},l.a.createElement(ze.a,{readOnly:!0,label:"Periodo de Cobro",value:t||"Desconocido"})),l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(ze.a,{readOnly:!0,label:"Detalle",multiline:!0,value:n||"Ninguna",fullWidth:!0}))))},Rt=function(e){var a=e.name,t=e.surname,n=e.address;e.clientId;return l.a.createElement(ye.a,{className:"p-1",style:{borderRadius:0}},l.a.createElement("div",{className:"title-muted"},"Datos del Cliente"),l.a.createElement(He.a,{container:!0,className:"mt-1",spacing:1},l.a.createElement(He.a,{item:!0,xs:6},l.a.createElement(ze.a,{readOnly:!0,label:"Nombres",multiline:!0,value:a||t?a&&!t?a.toUpperCase():a&&t?"".concat(a.toUpperCase()," ").concat(t.toUpperCase()):"No especifica":"No especifica",fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:6},l.a.createElement(ze.a,{readOnly:!0,label:"Direcci\xf3n",multiline:!0,value:n||"Ninguna",fullWidth:!0}))))},_t=t(432),Ft=t(451),It=t(172);var Tt=function(e){var a=e.children,t=e.value,n=e.index,r=Object(It.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n)},r),t===n&&l.a.createElement("div",{style:{width:"100%"}},a))},Wt=t(440),Mt=function(e){var a=e.isOpen,t=e.onClose,n=e.img,r=e.description,o=e.title,c=Object(W.a)(),i=Object(Et.a)(c.breakpoints.down("sm"));return l.a.createElement(rt.a,{fullScreen:i,open:a,maxWidth:"md",onClose:function(){return t()},"aria-labelledby":"responsive-dialog-title"},l.a.createElement(ct.a,{className:"map-dialog"},l.a.createElement("div",{className:"dialog-map-header"},l.a.createElement("h2",null,o),r&&l.a.createElement("small",{className:"text-muted"},r)),l.a.createElement("div",null,l.a.createElement("img",{src:R(n),alt:n,width:"100%"}))),l.a.createElement(st.a,null,l.a.createElement(V.a,{autoFocus:!0,onClick:function(){return t()},color:"primary"},"OK")))};Mt.defaultProps={img:null,isOpen:!1,description:"",title:"Ver Imagen"};var zt=Mt,Lt=function(e){var a=e.img,t=e.title,r=e.iconButton,o=Object(n.useState)(!1),c=Object(I.a)(o,2),i=c[0],s=c[1],m=function(){s(!0)};return l.a.createElement(l.a.Fragment,null,r&&l.a.createElement(xa.a,{title:t},l.a.createElement($.a,{onClick:function(){return m()},"aria-label":"Detalle"},l.a.createElement(Wt.a,null))),!r&&l.a.createElement(V.a,{onClick:function(){return m()},variant:"text",size:"small",color:"default",startIcon:l.a.createElement(Wt.a,null)},t),l.a.createElement(zt,{img:a,title:t,isOpen:i,onClose:function(){return s(!1)}}))};Lt.defaultProps={title:"Ver Im\xe1gen",iconButton:!1};var Bt=Lt,Ut=function(e){var a=e.ref_detail,t=e.ref_img,n=e.prenda,r=Yt(),o=l.a.useState("one"),c=Object(I.a)(o,2),i=c[0],s=c[1];return l.a.createElement("div",null,l.a.createElement(U.a,{position:"static",className:r.root,elevation:0},l.a.createElement(Ht,{value:i,onChange:function(e,a){s(a)}},l.a.createElement(Vt,Object.assign({value:"one",label:"Referencias (".concat(a?1:0,")")},qt("one"))),l.a.createElement(Vt,Object.assign({value:"two",label:"Prendas (".concat(n?n.length:0,")")},qt("two")))),l.a.createElement(Tt,{value:i,index:"one"},l.a.createElement(Oe.a,null,l.a.createElement(Ce.a,null,l.a.createElement(Se.a,null,(a||t)&&l.a.createElement(je.a,null,l.a.createElement(we.a,{width:"30%"},t?l.a.createElement(Bt,{img:t,title:"Ver Ref."}):""),l.a.createElement(we.a,null,a||"No hay referencia")),!a&&!t&&l.a.createElement(je.a,null,l.a.createElement(we.a,{colSpan:2},l.a.createElement("div",{className:"text-muted text-center pt-1"},"No existen referencias"))))))),l.a.createElement(Tt,{value:i,index:"two"},l.a.createElement(Oe.a,null,l.a.createElement(Ce.a,null,l.a.createElement(Se.a,null,n&&n.map((function(e){return l.a.createElement(je.a,{key:e.id},l.a.createElement(we.a,{width:"30%"},l.a.createElement(Bt,{img:e.img,title:"Ver Prenda"})),l.a.createElement(we.a,null,e.detail))})),0===n.length&&l.a.createElement(je.a,null,l.a.createElement(we.a,{colSpan:2},l.a.createElement("div",{className:"text-muted text-center pt-1"},"No existen prendas")))))))))},qt=function(e){return{id:"wrapped-tab-".concat(e),"aria-controls":"wrapped-tabpanel-".concat(e)}},Yt=Object(M.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,color:"black"}}})),Vt=Object(et.a)((function(e){return{root:{textTransform:"none",color:"black",fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1)}}}))((function(e){return l.a.createElement(_t.a,Object.assign({disableRipple:!0},e))})),Ht=Object(et.a)({root:{backgroundColor:"#fafafa"}})((function(e){return l.a.createElement(Ft.a,Object.assign({},e,{TabIndicatorProps:{children:l.a.createElement("div",null)}}))}));Ut.defaultProps={prenda:[]};var Gt=Ut,Zt=t(441),Kt=function(e){var a=e.isOpen,t=e.title,n=e.lon,r=e.lat,o=e.onClose,c=e.description,i=Object(W.a)(),s=Object(Et.a)(i.breakpoints.down("sm"));return l.a.createElement(rt.a,{fullScreen:s,open:a,maxWidth:"md",onClose:function(){return o()},"aria-labelledby":"responsive-dialog-title"},l.a.createElement(ct.a,{className:"map-dialog"},l.a.createElement("div",{className:"dialog-map-header"},l.a.createElement("h2",null,t),l.a.createElement("small",{className:"text-muted"},c)),l.a.createElement(vt,{lon:n,lat:r,title:t,description:c})),l.a.createElement(st.a,null,l.a.createElement(V.a,{autoFocus:!0,onClick:function(){return o()},color:"primary"},"OK")))};Kt.defaultProps={isOpen:!1,title:"Ver Ubicaci\xf3n",description:""};var $t=Kt,Qt=function(e){var a=e.lat,t=e.lon,r=e.title,o=e.description,c=e.iconButton,i=Object(n.useState)(!1),s=Object(I.a)(i,2),m=s[0],u=s[1],d=function(){u(!0)};return l.a.createElement(l.a.Fragment,null,c&&l.a.createElement(xa.a,{title:r},l.a.createElement($.a,{onClick:function(){return d()},disabled:!a||!t,"aria-label":"Ver ubicaci\xf3n"},l.a.createElement(Zt.a,null))),!c&&l.a.createElement(V.a,{disabled:!a||!t,onClick:function(){return d()},variant:"text",size:"small",color:"default",startIcon:l.a.createElement(Zt.a,null)},r),l.a.createElement($t,{lat:parseFloat(a),lon:parseFloat(t),description:o,isOpen:m,onClose:function(){return u(!1)}}))};Qt.defaultProps={title:"Ver Ubicaci\xf3n",description:""};var Jt=Qt,Xt=function(e){var a=e.userId,t=ve("/employ/user/".concat(a));return l.a.createElement(Fe,{loader:t.loader,elevation:0},l.a.createElement(He.a,{container:!0,spacing:2},l.a.createElement(He.a,{item:!0,sm:6},l.a.createElement(ze.a,{readOnly:!0,label:"Nombre",inputProps:{className:"text-upper"},value:"".concat(t.data.name," "),fullWidth:!0})),l.a.createElement(He.a,{item:!0,sm:6},l.a.createElement(ze.a,{readOnly:!0,label:"Usuario",value:t.data.username,fullWidth:!0})),l.a.createElement(He.a,{item:!0,sm:6},l.a.createElement(ze.a,{readOnly:!0,label:"Email",value:t.data.email,fullWidth:!0})),l.a.createElement(He.a,{item:!0,sm:6},l.a.createElement(ze.a,{readOnly:!0,label:"Tel\xe9fono",value:t.data.phones,fullWidth:!0})),l.a.createElement(He.a,{item:!0,sm:6},l.a.createElement(ze.a,{readOnly:!0,label:"Direcci\xf3n",value:t.data.address,multiline:!0,fullWidth:!0})),l.a.createElement(He.a,{item:!0,sm:6,className:"d-flex center"},l.a.createElement("b",{className:"mr-1"},"Estado:"),1===t.data.status&&l.a.createElement(ua.a,{label:"Activo",className:"bg-green"}),0===t.data.status&&l.a.createElement(ua.a,{label:"Inactivo",className:"bg-red"}),-1===t.data.status&&l.a.createElement(ua.a,{label:"Eliminado",className:"bg-red"}))))},en=function(e){var a=e.userId,t=e.title,n=e.open,r=e.onClose,o=Object(W.a)(),c=Object(Et.a)(o.breakpoints.down("sm"));return l.a.createElement(rt.a,{fullScreen:c,open:n,maxWidth:"md",onClose:function(){return r()},"aria-labelledby":"responsive-dialog-title"},l.a.createElement(ct.a,{className:"map-dialog"},l.a.createElement("div",{className:"dialog-map-header"},l.a.createElement("h2",null,t)),a&&l.a.createElement(Xt,{userId:a})),l.a.createElement(st.a,null,l.a.createElement(V.a,{autoFocus:!0,onClick:function(){return r()},color:"primary"},"OK")))};en.defaultProps={title:"Ver Empleado"};var an=en,tn=function(e){var a=e.userId,t=e.title,r=e.iconButton,o=Object(n.useState)(!1),c=Object(I.a)(o,2),i=c[0],s=c[1],m=function(){s(!0)};return l.a.createElement(l.a.Fragment,null,r&&l.a.createElement(xa.a,{title:t},l.a.createElement($.a,{onClick:function(){return m()},disabled:!a,"aria-label":t},l.a.createElement(Y.a,null,"person"))),!r&&l.a.createElement(V.a,{disabled:!a,onClick:function(){return m()},variant:"text",size:"small",color:"default",startIcon:l.a.createElement(Y.a,null,"person")},t),l.a.createElement(an,{userId:a,onClose:function(){return s(!1)},open:i}))};tn.defaultProps={iconButton:!1,title:"Ver empleado"};var nn=tn,ln=function(e){var a,t=e.credit;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ye.a,{style:{borderRadius:0},className:"p-1"},l.a.createElement("div",{className:"title-muted"},"Datos del cr\xe9dito"),l.a.createElement(He.a,{container:!0,style:{marginTop:"1rem"},spacing:1},l.a.createElement(He.a,{item:!0,xs:6},l.a.createElement(ze.a,{readOnly:!0,label:"Fecha inicio",fullWidth:!0,value:t.f_inicio?De(t.f_inicio):"dd/mm/yyyy"})),l.a.createElement(He.a,{item:!0,xs:6},l.a.createElement(ze.a,{readOnly:!0,label:"Fecha fin",fullWidth:!0,value:t.f_fin?De(t.f_fin):"dd/mm/yyyy"})),l.a.createElement(He.a,{item:!0,xs:6},l.a.createElement(ze.a,{readOnly:!0,label:"Fecha de Registro",value:t.created_at?(a=t.created_at,a?Ne()(a).format("DD/MMMM/Y - H:mm"):"--/--/----"):"dd/mm/yyyy",fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:6,className:"d-flex center"},l.a.createElement(ze.a,{readOnly:!0,value:t.ruta?t.ruta:"Desconocida",label:"Ruta/Zona",fullWidth:!0})),l.a.createElement(He.a,{item:!0,xs:12},t.geo_lat&&t.geo_lon&&l.a.createElement(Jt,{lat:t.geo_lat,lon:t.geo_lon,description:t.address}),t.user_id&&l.a.createElement(nn,{userId:t.user_id,title:"Empleado"})))),l.a.createElement(ye.a,null,l.a.createElement(Gt,{ref_detail:t.ref_detail,ref_img:t.ref_img,prenda:t.prenda})))},rn=t(298),on=t.n(rn),cn=function(e){var a=e.open,t=e.onClose,r=e.selectPay,o=e.success,c=Object(n.useState)(!1),i=Object(I.a)(c,2),s=i[0],u=i[1];return l.a.createElement(xt,{open:a,title:"Anular pago COD-".concat(r),desc:"\xbfPor qu\xe9 deseas anular este pago COD-".concat(r,"?"),inputLabel:"Motivo",loader:s,onConfirm:function(e){return a=e,void(r?a?(u(!0),m.a.delete("/payment/".concat(r),{data:{description:a}}).then((function(e){e.ok&&(C.b.success("El pago fue anulado con \xe9xito"),o(r,1),t())})).catch((function(e){C.b.error(Pe(e))})).finally((function(){return u(!1)}))):C.b.warn("Es necesario especificar un motivo de anulaci\xf3n"):C.b.warn("Vuelva a seleccionar el pago que desea anular"));var a},onClose:t})};cn.defaultProps={};var sn=cn,mn=function(e){var a=e.open,t=e.onClose,n=e.mora,r=e.selectPay,o=e.success,c=Ae("put");return l.a.createElement("div",null,r&&l.a.createElement(ut,{onConfirm:function(){return function(){if(r){var e=2;n&&(e=-1),c.request("/payment/".concat(r),{status:e}).then((function(a){a.ok&&(C.b.success("Pago marcado como ".concat(n?"EN MORATORIA":"COBRADO")),o(r,e),t())})).catch((function(e){C.b.error(e)}))}else C.b.warn("Seleccione el pago a procesar")}()},title:"".concat(n?"PONER EN MORA | ":"COBRAR | "," COD-").concat(r),desc:"\xbfEstas seguro que deseas poner este pago en estado ".concat(n?"de MORA":"COBRADO","?"),open:a,loader:c.loader,onClose:t}))};mn.defaultProps={mora:!1};var un=mn,dn=function(e){var a=e.creditId,t=ve("/payment/only/".concat(a)),r=Object(n.useState)(!1),o=Object(I.a)(r,2),c=o[0],i=o[1],s=Object(n.useState)(!1),m=Object(I.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),E=Object(I.a)(p,2),f=E[0],b=E[1],h=Object(n.useState)(!1),g=Object(I.a)(h,2),v=g[0],O=g[1],y=Object(n.useState)(null),C=Object(I.a)(y,2),x=C[0],j=C[1],w=Object(n.useState)(null),S=Object(I.a)(w,2),k=S[0],N=S[1],D=[{name:"total",label:"TOTAL",options:{filter:!1,customBodyRender:function(e){return l.a.createElement("b",null,_(e))}}},{name:"date",label:"F. PAGO",options:{filter:!1,customBodyRender:function(e){return De(e)}}},{name:"description",label:"DETALLE",options:{filter:!1}},{name:"status",label:"ESTADO",options:{filter:!0,customFilterListOptions:{render:function(e){return"Estado: ".concat(e)}},customBodyRender:function(e,a,t){return l.a.createElement("div",null,2===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{size:"small",label:"COBRADO",className:"bg-green"})),1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{size:"small",label:"PENDIENTE",className:"bg-primary"})),-1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,{size:"small",label:"EN MORA",className:"bg-red"})))}}},{name:"date_payment",label:"F. COBRO",options:{filter:!1,customBodyRender:function(e){return De(e)}}},{name:"mora",label:"MORA",options:{customBodyRender:function(e){return e?"Si":"No"}}},{name:"user_id",label:"EMPLEADO",options:{filter:!1,customBodyRender:function(e){return l.a.createElement(l.a.Fragment,null,e&&l.a.createElement(V.a,{size:"small",onClick:function(){return A(e)}},"Ver"),!e&&l.a.createElement(V.a,{size:"small",disabled:!0},"Ver"))}}},{name:"id",label:" ",options:{customBodyRender:function(e,a){var t=a.rowData[3];return l.a.createElement(l.a.Fragment,null,1===t&&l.a.createElement(xa.a,{title:"Marcar pago como en MORA"},l.a.createElement($.a,{onClick:function(){return R(e,!0,!0)},size:"small","aria-label":"Poner en moratoria el pago"},l.a.createElement(lt.a,null))),(1===t||-1===t)&&l.a.createElement(xa.a,{title:"Marcar pago como COBRADO"},l.a.createElement($.a,{onClick:function(){return R(e,!0,!1)},size:"small","aria-label":"Cobrar este pago"},l.a.createElement(on.a,null))),2===t&&l.a.createElement(xa.a,{title:"Anular"},l.a.createElement($.a,{onClick:function(){return R(e)},size:"small","aria-label":"Anular Pago"},l.a.createElement(Y.a,null,"cancel"))))}}}],A=function(e){j(e),i(!0)},R=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a?(b(!0),O(t)):d(!0),N(e)},F=Object(Te.a)({},P,{electableRowsHeader:!1,filter:!1,search:!1,sort:!1,download:!1,print:!1,viewColumns:!1,selectableRows:"none",setTableProps:function(){return{padding:"default",size:"small"}}});return l.a.createElement(Fe,{loader:t.loader,elevation:0,text:""},l.a.createElement(ma.a,{title:"Pagos",data:t.data.pays,columns:D,options:F}),x&&l.a.createElement(an,{userId:x,onClose:function(){return i(!1)},open:c}),l.a.createElement(sn,{selectPay:k,open:u,onClose:function(){return d(!1)}}),l.a.createElement(un,{selectPay:k,mora:v,open:f,onClose:function(){return b(!1)}}))},pn=function(e){var a=e.children;return e.loader?l.a.createElement(He.a,{container:!0,spacing:1},l.a.createElement(He.a,{item:!0,xs:12,md:12},l.a.createElement(He.a,{container:!0},l.a.createElement(He.a,{item:!0,xs:6,sm:4,md:3},l.a.createElement(Aa.a,{style:{margin:"0 .1rem .2rem .1rem",borderRadius:0},variant:"rect",height:79})),l.a.createElement(He.a,{item:!0,xs:6,sm:4,md:2},l.a.createElement(Aa.a,{style:{margin:"0 .1rem .2rem .1rem",borderRadius:0},variant:"rect",height:79})),l.a.createElement(He.a,{item:!0,xs:6,sm:4,md:3},l.a.createElement(Aa.a,{style:{margin:"0 .1rem .2rem .1rem",borderRadius:0},variant:"rect",height:79})),l.a.createElement(He.a,{item:!0,xs:6,sm:4,md:2},l.a.createElement(Aa.a,{style:{margin:"0 .1rem .2rem .1rem",borderRadius:0},variant:"rect",height:79})),l.a.createElement(He.a,{item:!0,xs:6,sm:4,md:2},l.a.createElement(Aa.a,{style:{margin:"0 .1rem .2rem .1rem",borderRadius:0},variant:"rect",height:79})))),l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(He.a,{container:!0,spacing:1},l.a.createElement(He.a,{item:!0,xs:12,md:6},l.a.createElement(Aa.a,{variant:"rect",height:300})),l.a.createElement(He.a,{item:!0,xs:12,md:6},l.a.createElement(Aa.a,{variant:"rect",height:300})))),l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(Aa.a,{variant:"rect",height:100}))):a};pn.defaultProps={loader:!1};var En=pn,fn=function(e){var a=e.match.params.id,t=ve("/credit/".concat(a));return l.a.createElement(ge,null,l.a.createElement(En,{loader:t.loader},l.a.createElement(He.a,{container:!0,spacing:1},l.a.createElement(He.a,{item:!0,xs:12,md:12},l.a.createElement(He.a,{container:!0},l.a.createElement(Nt,{md:3,color:"primary",icon:"credit_card",info:"".concat(_(t.data.monto)),text:"MONTO INICIAL"}),l.a.createElement(Nt,{color:"deal",icon:"money",info:"% ".concat(t.data.utilidad),text:"UTILIDAD"}),l.a.createElement(Nt,{md:3,color:"cyan",icon:"local_atm",info:"".concat(_(t.data.total_utilidad)),text:"SUBT. UTILIDAD"}),l.a.createElement(Nt,{color:"purple",icon:"attach_money",info:"".concat(_(t.data.total)),text:"TOTAL"}),l.a.createElement(Nt,{color:"red",icon:"exposure_plus_1",info:"".concat(t.data.n_pagos),text:"# DE PAGOS"}))),l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(He.a,{container:!0,spacing:1},l.a.createElement(He.a,{item:!0,xs:12,md:6},l.a.createElement(Dt,{description:t.data.description,status:t.data.status}),l.a.createElement(At,{description:t.data.description,plazo:t.data.plazo,cobro:t.data.cobro}),l.a.createElement(Rt,{name:t.data.client_name,surname:t.data.client_surname,address:t.data.client_address,clientId:t.data.person_id})),l.a.createElement(He.a,{item:!0,xs:12,md:6},l.a.createElement(ln,{credit:t.data})))),l.a.createElement(He.a,{item:!0,xs:12},t.data.id&&0!==t.data.status&&l.a.createElement(dn,{creditId:t.data.id})))))},bn=t(442),hn=t(443),gn=function(e){var a=e.title,t=e.open,r=e.onClose,o=Object(W.a)(),c=Object(Et.a)(o.breakpoints.down("sm")),i=Object(n.useState)({showPassword:!1}),s=Object(I.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)({password:"",password_now:""}),p=Object(I.a)(d,2),E=p[0],f=p[1],b=Ae("post"),h=function(){u(Object(Te.a)({},m,{showPassword:!m.showPassword}))},g=function(e){var a=e.target,t=a.value,n=a.name;f(Object(Te.a)({},E,Object(T.a)({},n,t)))};return l.a.createElement(rt.a,{open:t,onClose:r,"aria-labelledby":"form-dialog-title",fullScreen:c},l.a.createElement(ot.a,{id:"form-dialog-title"},a),l.a.createElement(ct.a,null,l.a.createElement(We.a,null,l.a.createElement(He.a,{container:!0,spacing:2},l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(Ke.a,{fullWidth:!0},l.a.createElement(Ge.a,{htmlFor:"standard-adornment-password"},"Contrase\xf1a actual"),l.a.createElement($e.a,{id:"standard-adornment-password",type:m.showPassword?"text":"password",value:null!==E.password_now?E.password_now:"",name:"password_now",onChange:function(e){return g(e)},fullWidth:!0,required:!0,endAdornment:l.a.createElement(Qe.a,{position:"end"},l.a.createElement($.a,{onClick:h},m.showPassword?l.a.createElement(bn.a,null):l.a.createElement(hn.a,null)))}))),l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(Ke.a,{fullWidth:!0},l.a.createElement(Ge.a,{htmlFor:"standard-adornment-password"},"Contrase\xf1a nueva"),l.a.createElement($e.a,{id:"standard-adornment-password-2",type:m.showPassword?"text":"password",value:null!==E.password?E.password:"",name:"password",onChange:function(e){return g(e)},fullWidth:!0,required:!0,endAdornment:l.a.createElement(Qe.a,{position:"end"},l.a.createElement($.a,{onClick:h},m.showPassword?l.a.createElement(bn.a,null):l.a.createElement(hn.a,null)))})))))),l.a.createElement(st.a,null,l.a.createElement(V.a,{color:"primary",onClick:r},"Cancelar"),l.a.createElement(V.a,{color:"secondary",onClick:function(){E.password&&E.password_now?b.request("/user/password",E).then((function(e){e.ok&&(C.b.success("Contrase\xf1a cambiada con \xe9xito"),r())})).catch((function(e){return C.b.error(e)})):C.b.error("Complete el formulario")},disabled:b.loader},b.loader?"Espere...":"Aceptar")))};gn.defaultProps={title:"Cambiar contrase\xf1a"};var vn=gn,On=function(){var e=Object(n.useState)(!1),a=Object(I.a)(e,2),t=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(V.a,{onClick:function(){return r(!0)},className:"ml-1"},"Cambiar contrase\xf1a"),l.a.createElement(vn,{onClose:function(){return r(!1)},open:t}))},yn=function(){var e=ve("/user");return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,null,l.a.createElement(Fe,{loader:e.loader},l.a.createElement(We.a,{maxWidth:"md",component:ye.a,className:"paper-content"},l.a.createElement("div",{className:"paper-header"},l.a.createElement("h4",null," ",l.a.createElement(Y.a,null,"person_edit")," Mis Datos"),l.a.createElement(te.a,null)),e.data.person&&l.a.createElement(Ka,{method:"put",url:"/client/".concat(e.data.person.id),initialData:e.data.person},l.a.createElement(On,null))))))},Cn=function(e){var a=e.match.params.id;return l.a.createElement(ge,null,l.a.createElement(St,{personId:a,searchable:!1}))},xn=t(449),jn=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).state={zones:[],loader:!1,open:!1,value:""},n}return Object(X.a)(t,[{key:"getZones",value:function(){var e=this;this.setState(Object(Te.a)({},this.state,{open:!0,loader:!0})),this.state.zones.length<=0?m.a.get("/route").then((function(a){a.ok&&e.setState(Object(Te.a)({},e.state,{zones:a.data}))})).finally((function(){return e.setState({loader:!1})})):this.setState({loader:!1})}},{key:"reset",value:function(){this.setState(Object(Te.a)({},this.state,{value:""}))}},{key:"selected",value:function(e,a){a?this.setState(Object(Te.a)({},this.state,{value:a})):this.setState(Object(Te.a)({},this.state,{value:""}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Sa.a,{id:"zone_id",open:this.state.open,onOpen:function(){return e.getZones()},onClose:function(){return e.setState(Object(Te.a)({},e.state,{open:!1}))},options:this.state.zones,loading:this.state.loader,onChange:function(a,t){return e.props.onChange(t?t.id:t)},loadingText:"Cargando zonas",inputValue:this.state.value,onInputChange:function(a,t){return e.selected(a,t)},getOptionLabel:function(a){return a?a.name.toUpperCase():e.state.value},renderInput:function(a){return l.a.createElement(ze.a,Object.assign({},a,{required:!0,label:"Zonas/Rutas",variant:"standard",fullWidth:!0,InputProps:Object(Te.a)({},a.InputProps,{endAdornment:l.a.createElement(l.a.Fragment,null,e.state.loader?l.a.createElement(Re.a,{color:"inherit",size:20}):null,a.InputProps.endAdornment)})}))}}))}}]),t}(n.Component);jn.defaultProps={};var wn=jn,Sn=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).state={value:""},n}return Object(X.a)(t,[{key:"reset",value:function(){this.setState({value:""})}},{key:"selected",value:function(e,a){a?this.setState(Object(Te.a)({},this.state,{value:a})):this.setState(Object(Te.a)({},this.state,{value:""}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Sa.a,{id:"cobros",options:F,onChange:function(a,t){return e.props.onChange(t?t.name:t)},onInputChange:function(a,t){return e.selected(a,t)},inputValue:this.state.value,getOptionLabel:function(a){return a?a.value.toUpperCase():e.state.value.value},renderInput:function(e){return l.a.createElement(ze.a,Object.assign({},e,{label:"Recaudaci\xf3n",variant:"standard",fullWidth:!0}))}}))}}]),t}(n.Component);Sn.defaultProps={};var kn=Sn,Nn=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).state={date:e.initialDate},n}return Object(X.a)(t,[{key:"reset",value:function(){this.setState({date:null})}},{key:"onChangeDate",value:function(e){this.setState({date:e}),e?this.props.onChange(e.format("YYYY-MM-DD"),this.props.key):this.props.onChange(null,this.props.key)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(va.a,{disableToolbar:this.props.hideToolbar,variant:"inline",format:"DD/MM/YYYY",fullWidth:!0,autoOk:this.props.autoOk,id:this.props.key,value:this.state.date,label:this.props.label,onChange:function(a){return e.onChangeDate(a)},KeyboardButtonProps:{"aria-label":this.props.label}}))}}]),t}(n.Component);Nn.defaultProps={key:"date",label:"Seleccione fecha",autoOk:!0,initialDate:null,hideToolbar:!1};var Pn=Nn,Dn=t(444),An=t(445),Rn=t(446),_n=t(447),Fn=t(448),In=function(e){var a=e.pay,t=e.exec,n=Object(et.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(xa.a);return l.a.createElement(l.a.Fragment,null,l.a.createElement(n,{title:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Direcci\xf3n"),l.a.createElement("p",null,a.address,a.ref_detail&&l.a.createElement("span",null,"\xa0|\xa0",a.ref_detail)),a.description&&l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Descripci\xf3n"),l.a.createElement("p",null,a.description)))},l.a.createElement($.a,null,l.a.createElement(Dn.a,null))),l.a.createElement(Jt,{lon:a.lon,lat:a.lat,iconButton:!0}),a.ref_img&&l.a.createElement(Bt,{img:a.ref_img,iconButton:!0,title:"Ver referencia"}),l.a.createElement(xa.a,{title:"Ver Cr\xe9dito"},l.a.createElement($.a,{component:u.b,to:ie("/credit/view/:id",{id:a.credit_id})},l.a.createElement(An.a,null))),2!==a.status&&l.a.createElement(xa.a,{title:"Marcar como Mora"},l.a.createElement($.a,{onClick:function(){return t("mora",{id:a.id})}},l.a.createElement(Rn.a,null))),2!==a.status&&l.a.createElement(xa.a,{title:"Marcar como pagado"},l.a.createElement($.a,{onClick:function(){return t("pay",{id:a.id})}},l.a.createElement(_n.a,null))),2===a.status&&l.a.createElement(xa.a,{title:"Anular Pago"},l.a.createElement($.a,{onClick:function(){return t("cancel",{id:a.id})}},l.a.createElement(Fn.a,null))))},Tn=function(e){var a=e.pay,t=e.exec,n=function(e){switch(e){case 1:return"pendiente";case 2:return"cobrado";case-1:return"mora";default:return"pendiente"}};return l.a.createElement("div",{className:"pay-content ".concat(n(a.status))},l.a.createElement("div",{className:"pay-header"},l.a.createElement("div",{className:"dollar ".concat(n(a.status))},_(a.total)),l.a.createElement("small",null,"Pago #",a.number)),l.a.createElement("div",{className:"client"},l.a.createElement(u.b,{to:ie("/credit/client/:id",{id:a.client_id}),className:"client"},a.client_name," ",a.client_surname),l.a.createElement("small",{className:n(a.status)},n(a.status).toUpperCase())),l.a.createElement("div",{className:"buttons"},l.a.createElement(In,{exec:t,pay:a})))},Wn=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t="pendiente";switch(e){case 1:t="pendiente";break;case 2:t="cobrado";break;case-1:t="mora";break;default:t="pendiente"}return a&&(t=t.toUpperCase()),t},Mn=function(e){var a=Wn(e);return l.a.createElement("div",{className:"st ".concat(a)},a.toUpperCase())},zn=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"diario";return"/img/pin/".concat(a.toLowerCase(),"/").concat(Wn(e),".png")},Ln=function(e){var a=e.payments,t=e.google,r=e.height,o=e.zoom,c=e.exec,i=Object(n.useState)({showingInfoWindow:!1,activeMarker:{},selectedPlace:{},selectedPay:null}),s=Object(I.a)(i,2),m=s[0],u=s[1];return l.a.createElement("div",{className:"content-google-map"},a&&a.length>=1&&l.a.createElement(ft.Map,{google:t,onClick:function(e){m.showingInfoWindow&&u(Object(Te.a)({},m,{showingInfoWindow:!1,activeMarker:null,selectedPay:null}))},style:{width:"100%",height:r,minHeight:r,position:"relative"},className:"google-map-min",initialCenter:{lat:a[0].lat+3,lng:a[0].lon+12},zoom:o},a.map((function(e,a){return l.a.createElement(ft.Marker,{key:e.id,id:e.id,title:"".concat(e.address," ").concat(e.ref_detail?" | "+e.ref_detail:""),name:e.client_name,position:{lat:e.lat,lng:e.lon},icon:{url:zn(e.status,e.cobro),anchor:new t.maps.Point(38,38),scaledSize:new t.maps.Size(42,42)},onClick:function(a,t){return n=a,l=t,r=e,u(Object(Te.a)({},m,{selectedPlace:n,activeMarker:l,showingInfoWindow:!0,selectedPay:r}));var n,l,r}})})),l.a.createElement(ft.InfoWindow,{marker:m.activeMarker,visible:m.showingInfoWindow},l.a.createElement("div",null,m.selectedPay&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,m.selectedPay.client_name," ",m.selectedPay.client_surname),l.a.createElement("p",null,m.selectedPay.address),l.a.createElement("small",null,Mn(m.selectedPay.status)))))),m.selectedPay&&l.a.createElement("div",{className:"map-btn"},l.a.createElement(In,{exec:c,pay:m.selectedPay})))};Ln.defaultProps={height:"100%",zoom:12};var Bn=ht(Ln),Un=function(e){var a=e.data,t=e.title,r=e.maps,o=e.grid,c=Object(n.useState)(!1),i=Object(I.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(I.a)(u,2),p=d[0],E=d[1],f=Object(n.useState)(!1),b=Object(I.a)(f,2),h=b[0],g=b[1],v=Object(n.useState)(null),O=Object(I.a)(v,2),y=O[0],C=O[1],x=Object(n.useState)({xs:12,sm:12,md:12,lg:6}),j=Object(I.a)(x,2),w=j[0],S=j[1],k=function(e,a){if(a.id&&e)switch(C(a.id),e){case"cancel":m(!0);break;case"mora":g(!0),E(!0);break;case"pay":g(!1),E(!0)}},N=function(e,t){if(e&&t){var n=a.findIndex((function(a){return a.id===e}));n>=0&&(a[n].status=t)}};return Object(n.useEffect)((function(){12!==o.lg&&12!==o.md||S(Object(Te.a)({},o,{lg:3})),6!==o.lg&&6!==o.md||S(Object(Te.a)({},o,{lg:6,md:12}))}),[o]),l.a.createElement(l.a.Fragment,null,a&&a.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,t.toUpperCase()),l.a.createElement(He.a,{container:!0,spacing:2},!r&&a&&a.map((function(e){return l.a.createElement(He.a,{item:!0,xs:w.xs,sm:w.sm,md:w.md,lg:w.lg,key:e.id},l.a.createElement(Tn,{pay:e,exec:function(e,a){return k(e,a)}}))})),r&&a&&l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(Bn,{payments:a,height:"380px",zoom:11,exec:function(e,a){return k(e,a)}}))),l.a.createElement(sn,{open:s,selectPay:y,success:function(e,a){return N(e,a)},onClose:function(){return m(!1)}}),l.a.createElement(un,{selectPay:y,mora:h,open:p,success:function(e,a){return N(e,a)},onClose:function(){return E(!1)}})))};Un.defaultProps={maps:!1};var qn=Un,Yn={payments:[],loader:!1,map:"true"===localStorage.getItem("map"),grid:{md:6,sm:12,xs:12},filters:{date:null,zone:null,cobro:null}},Vn=function(e){Object(ae.a)(t,e);var a=Object(ee.a)(t);function t(e){var n;return Object(J.a)(this,t),(n=a.call(this,e)).getPays=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn.filters,a="/payment?q=";e.date&&(a+="&date=".concat(e.date)),e.zone&&(a+="&zone=".concat(e.zone)),e.cobro&&(a+="&only=".concat(e.cobro)),n.setState(Object(Te.a)({},n.state,{filters:e,loader:!0})),m.a.get(a).then((function(e){if(e.ok){var a=0,t=Yn.grid;e.data.diario&&e.data.diario.length>0&&a++,e.data.semanal&&e.data.semanal.length>0&&a++,e.data.quincenal&&e.data.quincenal.length>0&&a++,e.data.mensual&&e.data.mensual.length>0&&a++,1!==a&&2!==a||!n.state.map||(t={xs:12,sm:12,md:12,lg:12}),1!==a||n.state.map||(t={xs:12,sm:12,md:12,lg:12}),n.setState(Object(Te.a)({},n.state,{payments:e.data,grid:t}))}})).catch((function(e){return C.b.error(Pe(e))})).finally((function(){return n.setState(Object(Te.a)({},n.state,{loader:!1}))}))},n.onConfig=function(e){switch(e){case"map":n.setState(Object(Te.a)({},n.state,{map:!0})),localStorage.setItem("map","true");break;case"noMap":n.setState(Object(Te.a)({},n.state,{map:!1})),localStorage.setItem("map","false");break;case"x1":n.setState(Object(Te.a)({},n.state,{grid:Object(Te.a)({},n.state.grid,{md:12})}));break;case"x4":n.setState(Object(Te.a)({},n.state,{grid:Object(Te.a)({},n.state.grid,{md:6})}))}},n.onFilters=function(e){n.getPays(e)},n.state=Yn,n}return Object(X.a)(t,[{key:"componentDidMount",value:function(){this.getPays()}},{key:"render",value:function(){var e=this;return l.a.createElement(ge,null,l.a.createElement(We.a,{component:ye.a},l.a.createElement(He.a,{container:!0,spacing:2},l.a.createElement(He.a,{item:!0,xs:12},l.a.createElement(Gn,{initFilters:this.state.filters,onFilter:function(a){return e.onFilters(a)}},l.a.createElement(Hn,{map:this.state.map,onChange:function(a){return e.onConfig(a)}})))),l.a.createElement(Fe,{loader:this.state.loader,elevation:0},l.a.createElement(He.a,{container:!0,spacing:2},l.a.createElement(He.a,{item:!0,xs:this.state.grid.xs,sm:this.state.grid.sm,md:this.state.grid.md},l.a.createElement(qn,{title:"Diario",grid:this.state.grid,maps:this.state.map,data:this.state.payments.diario})),l.a.createElement(He.a,{item:!0,xs:this.state.grid.xs,sm:this.state.grid.sm,md:this.state.grid.md},l.a.createElement(qn,{title:"Semanal",grid:this.state.grid,maps:this.state.map,data:this.state.payments.semanal})),l.a.createElement(He.a,{item:!0,xs:this.state.grid.xs,sm:this.state.grid.sm,md:this.state.grid.md},l.a.createElement(qn,{title:"Quincenal",maps:this.state.map,grid:this.state.grid,data:this.state.payments.quincenal})),l.a.createElement(He.a,{item:!0,xs:this.state.grid.xs,sm:this.state.grid.sm,md:this.state.grid.md},l.a.createElement(qn,{title:"Mensual",maps:this.state.map,grid:this.state.grid,data:this.state.payments.mensual}))))))}}]),t}(n.Component),Hn=function(e){var a=e.map,t=e.onChange,n=l.a.useState(null),r=Object(I.a)(n,2),o=r[0],c=r[1],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t(e),c(null)};return l.a.createElement("div",null,l.a.createElement($.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},l.a.createElement(xn.a,null)),l.a.createElement(z.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:i},a?l.a.createElement(L.a,{onClick:function(){return i("noMap")}},"Vista de Pagos"):l.a.createElement(L.a,{onClick:function(){return i("map")}},"Vista de Mapa"),l.a.createElement(L.a,{onClick:function(){return i("x1")}},"Cuadricula x1"),l.a.createElement(L.a,{onClick:function(){return i("x4")}},"Cuadricula x4")))},Gn=function(e){var a=e.onFilter,t=(e.onClear,e.initFilters),r=e.children,o=Object(n.useRef)(),c=Object(n.useRef)(),i=Object(n.useRef)(),s=Object(n.useState)(t),m=Object(I.a)(s,2),u=m[0],d=m[1];return l.a.createElement(He.a,{container:!0,spacing:1},l.a.createElement(He.a,{item:!0,xs:6,md:3},l.a.createElement(wn,{ref:o,onChange:function(e){return d(Object(Te.a)({},u,{zone:e}))}})),l.a.createElement(He.a,{item:!0,xs:6,md:3},l.a.createElement(kn,{ref:c,onChange:function(e){return d(Object(Te.a)({},u,{cobro:e}))}})),l.a.createElement(He.a,{item:!0,xs:12,md:3},l.a.createElement(Pn,{label:"Fecha recaudaci\xf3n",initialDate:u.date,ref:i,onChange:function(e){return d(Object(Te.a)({},u,{date:e}))}})),l.a.createElement(He.a,{item:!0,xs:12,sm:12,md:3,className:"d-flex"},l.a.createElement(V.a,{variant:"text",color:"primary",fullWidth:!0,onClick:function(){return a(u)}},l.a.createElement(Y.a,null,"filter_list")," \xa0 Filtrar"),l.a.createElement($.a,{onClick:function(){return d({date:null,zone:null,cobro:null}),o.current.reset(),c.current.reset(),void i.current.reset()}},l.a.createElement(Y.a,null,"clear_two_tone")),r))};Gn.defaultProps={filters:{date:null,zone:null,cobro:null}};var Zn=[{path:"/",name:"Home",exact:!0,component:Ue},{path:"/login",name:"Login",exact:!0,component:Ue},{path:"/user",name:"userEdit",exact:!1,component:yn},{path:"/not_connected",name:"NOT_CONNECTED",component:Ve},{name:"EmployEdit",path:"/empleado/:id/edit",exact:!0,private:!0,component:ca},{name:"EmployAdd",path:"/empleado/add",private:!0,component:ia},{name:"EmployList",path:"/empleado",private:!0,component:ha},{name:"ExpenseShow",path:"/expense/view/:id",exact:!0,private:!0,component:ga},{name:"ExpenseAdd",path:"/expense/add",private:!0,component:Ca},{name:"ExpenseList",path:"/expense",private:!0,component:Ia},{name:"ZoneEdit",path:"/ruta/:id/edit",exact:!0,private:!0,component:Ma},{name:"ZoneAdd",path:"/ruta/add",exact:!0,private:!0,component:za},{name:"ZoneList",path:"/ruta",private:!0,component:Ie},{name:"PayrollAdd",path:"/payroll/add",exact:!0,private:!0,component:Ya},{name:"PayrollAddUser",path:"/payroll/add/:id",exact:!0,private:!0,component:Va},{name:"PayrollShow",path:"/payroll/:id",exact:!0,private:!0,component:Ha},{name:"PayrollList",path:"/payroll",exact:!0,private:!0,component:Ga},{name:"ClientEdit",path:"/cliente/:id/edit",exact:!0,private:!0,component:$a},{name:"ClientList",path:"/client",private:!0,component:dt},{name:"ClientAdd",path:"/cliente/add",private:!0,component:pt},{name:"CreditList",path:"/credit",exact:!0,private:!0,component:kt},{name:"CreditShow",path:"/credit/view/:id",private:!0,component:fn},{name:"CreditClientHistory",path:"/credit/client/:id",private:!0,component:Cn},{name:"PaymentList",path:"/payment",private:!0,component:Vn}],Kn=function(e){var a=e.component,t=Object(It.a)(e,["component"]);return y()?l.a.createElement(d.b,Object.assign({component:a},t)):l.a.createElement(d.a,{to:"/login"})};m.a.defaults.baseURL=k.api,m.a.interceptors.response.use((function(e){return null!==e.data.data?e.data:e}),(function(e){return e.status||e.response?(401===e.response.status&&y()&&O(),Promise.reject(e)):(console.log("Sin conexi\xf3n"),void(window.location.href="".concat("/not_connected")))})),m.a.interceptors.request.use((function(e){var a=y();return null!==a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(function(e){return Promise.reject(e)}));t(377),t(378),t(381);var $n=function(){return Object(n.useEffect)((function(){y()&&!window.location.pathname.includes("/not_connected")&&m.a.get("/user").then((function(e){g.dispatch(Q(e.data))}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{store:g},l.a.createElement(p.a,{utils:E.a,locale:"es"},l.a.createElement(C.a,{position:"bottom-right",closeButton:!1,hideProgressBar:!0}),l.a.createElement(i.a,{theme:N},l.a.createElement(u.a,null,l.a.createElement(d.d,null,Zn.map((function(e){return e.private?l.a.createElement(Kn,{key:e.name,path:e.path,routeDef:e,routes:Zn,component:e.component,exact:!!e.exact}):l.a.createElement(d.b,{key:e.name,path:e.path,routeDef:e,routes:Zn,component:e.component,exact:!!e.exact})}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement($n,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[312,1,2]]]);
//# sourceMappingURL=main.773868e1.chunk.js.map